diff --git a/node_modules/reacord/dist/main.cjs b/node_modules/reacord/dist/main.cjs
index 3e0c21e..58988bd 100644
--- a/node_modules/reacord/dist/main.cjs
+++ b/node_modules/reacord/dist/main.cjs
@@ -1321,6 +1321,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...getDiscordMessageOptions(messageOptions),
           ...messageCreateOptions
         });
+        if (messageCreateOptions?.onMessage) {
+          messageCreateOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       }
     });
@@ -1334,6 +1337,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...interactionReplyOptions,
           fetchReply: true
         });
+        if (interactionReplyOptions.onMessage) {
+          interactionReplyOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       },
       followUp: async (messageOptions) => {
@@ -1342,6 +1348,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...interactionReplyOptions,
           fetchReply: true
         });
+        if (interactionReplyOptions.onMessage) {
+          interactionReplyOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       }
     });
@@ -1481,7 +1490,8 @@ function createReacordMessage(message) {
     },
     delete: async () => {
       await message.delete();
-    }
+    },
+    messageId: message.id
   };
 }
 function convertButtonStyleToEnum(style) {
diff --git a/node_modules/reacord/dist/main.cjs.map b/node_modules/reacord/dist/main.cjs.map
index d6097b1..90487c2 100644
--- a/node_modules/reacord/dist/main.cjs.map
+++ b/node_modules/reacord/dist/main.cjs.map
@@ -1 +1 @@
-{"version":3,"sources":["../library/main.ts","../library/internal/element.ts","../library/internal/container.ts","../library/internal/node.ts","../library/core/components/action-row.tsx","../library/core/components/button.tsx","../../helpers/last.ts","../library/internal/message.ts","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayMap.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayReduce.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyOf.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_deburrLetter.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/deburr.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_asciiWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasUnicodeWord.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_unicodeWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/words.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createCompounder.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/snakeCase.js","../../helpers/convert-object-property-case.ts","../../helpers/omit.ts","../library/internal/text-node.ts","../library/core/components/embed-child.ts","../library/core/components/embed.tsx","../library/core/components/embed-author.tsx","../library/core/components/embed-field.tsx","../library/core/components/embed-footer.tsx","../library/core/components/embed-image.tsx","../library/core/components/embed-thumbnail.tsx","../library/core/components/embed-title.tsx","../library/core/components/link.tsx","../library/core/components/option-node.ts","../library/core/components/option.tsx","../../helpers/is-instance-of.ts","../library/core/components/select.tsx","../../helpers/to-error.ts","../../helpers/raise.ts","../library/core/instance-context.tsx","../library/internal/reconciler.ts","../library/core/reacord.tsx","../../helpers/json.ts","../../helpers/pick.ts","../../helpers/is-object.ts","../../helpers/prune-nullish-values.ts","../library/core/reacord-discord-js.ts","../library/internal/renderers/renderer.ts","../library/internal/renderers/channel-message-renderer.ts","../library/internal/renderers/interaction-reply-renderer.ts"],"sourcesContent":["export * from \"./core/component-event\"\nexport * from \"./core/components/action-row\"\nexport * from \"./core/components/button\"\nexport * from \"./core/components/button-shared-props\"\nexport * from \"./core/components/embed\"\nexport * from \"./core/components/embed-author\"\nexport * from \"./core/components/embed-field\"\nexport * from \"./core/components/embed-footer\"\nexport * from \"./core/components/embed-image\"\nexport * from \"./core/components/embed-thumbnail\"\nexport * from \"./core/components/embed-title\"\nexport * from \"./core/components/link\"\nexport * from \"./core/components/option\"\nexport * from \"./core/components/select\"\nexport * from \"./core/instance\"\nexport { useInstance } from \"./core/instance-context\"\nexport * from \"./core/reacord\"\nexport * from \"./core/reacord-discord-js\"\n","import type { Node } from \"./node\"\nimport type { ReactNode } from \"react\"\nimport React from \"react\"\n\nexport function ReacordElement<Props>(props: {\n\tprops: Props\n\tcreateNode: () => Node<Props>\n\tchildren?: ReactNode\n}) {\n\treturn React.createElement(\"reacord-element\", props)\n}\n","export class Container<T> {\n\tprivate items: T[] = []\n\n\tadd(...items: T[]) {\n\t\tthis.items.push(...items)\n\t}\n\n\taddBefore(item: T, before: T) {\n\t\tlet index = this.items.indexOf(before)\n\t\tif (index === -1) {\n\t\t\tindex = this.items.length\n\t\t}\n\t\tthis.items.splice(index, 0, item)\n\t}\n\n\tremove(toRemove: T) {\n\t\tthis.items = this.items.filter((item) => item !== toRemove)\n\t}\n\n\tclear() {\n\t\tthis.items = []\n\t}\n\n\tfind(predicate: (item: T) => boolean): T | undefined {\n\t\treturn this.items.find(predicate)\n\t}\n\n\tfindType<U extends T>(\n\t\ttype: new (...args: Array<NonNullable<unknown>>) => U,\n\t): U | undefined {\n\t\tfor (const item of this.items) {\n\t\t\tif (item instanceof type) return item\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.items[Symbol.iterator]()\n\t}\n}\n","import { Container } from \"./container.js\"\nimport type { ComponentInteraction } from \"./interaction\"\nimport type { MessageOptions } from \"./message\"\n\nexport abstract class Node<Props> {\n\treadonly children = new Container<Node<unknown>>()\n\n\tconstructor(public props: Props) {}\n\n\tmodifyMessageOptions(_options: MessageOptions) {\n\t\t// noop\n\t}\n\n\thandleComponentInteraction(_interaction: ComponentInteraction): boolean {\n\t\treturn false\n\t}\n\n\tget text(): string {\n\t\treturn [...this.children].map((child) => child.text).join(\"\")\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction.js\"\n\n/**\n * Props for an action row\n *\n * @category Action Row\n */\nexport interface ActionRowProps {\n\tchildren?: ReactNode\n}\n\n/**\n * An action row is a top-level container for message components.\n *\n * You don't need to use this; Reacord automatically creates action rows for\n * you. But this can be useful if you want a specific layout.\n *\n * ```tsx\n * // put buttons on two separate rows\n * <ActionRow>\n *   <Button label=\"First\" onClick={handleFirst} />\n * </ActionRow>\n * <Button label=\"Second\" onClick={handleSecond} />\n * ```\n *\n * @category Action Row\n * @see https://discord.com/developers/docs/interactions/message-components#action-rows\n */\nexport function ActionRow(props: ActionRowProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ActionRowNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass ActionRowNode extends Node<ActionRowProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\toptions.actionRows.push([])\n\t\tfor (const child of this.children) {\n\t\t\tchild.modifyMessageOptions(options)\n\t\t}\n\t}\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const child of this.children) {\n\t\t\tif (child.handleComponentInteraction(interaction)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n}\n","import { randomUUID } from \"node:crypto\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Button */\nexport type ButtonProps = ButtonSharedProps & {\n\t/**\n\t * The style determines the color of the button and signals intent.\n\t *\n\t * @see https://discord.com/developers/docs/interactions/message-components#button-object-button-styles\n\t */\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\n\t/** Happens when a user clicks the button. */\n\tonClick: (event: ButtonClickEvent) => void\n}\n\n/** @category Button */\nexport type ButtonClickEvent = ComponentEvent\n\n/** @category Button */\nexport function Button(props: ButtonProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ButtonNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new ButtonLabelNode({})}>\n\t\t\t\t{props.label}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass ButtonNode extends Node<ButtonProps> {\n\tprivate customId = randomUUID()\n\n\t// this has text children, but buttons themselves shouldn't yield text\n\t// eslint-disable-next-line @typescript-eslint/class-literal-property-style\n\toverride get text() {\n\t\treturn \"\"\n\t}\n\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"button\",\n\t\t\tcustomId: this.customId,\n\t\t\tstyle: this.props.style ?? \"secondary\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(ButtonLabelNode)?.text,\n\t\t})\n\t}\n\n\toverride handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tif (\n\t\t\tinteraction.type === \"button\" &&\n\t\t\tinteraction.customId === this.customId\n\t\t) {\n\t\t\tthis.props.onClick(interaction.event)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n}\n\nclass ButtonLabelNode extends Node<Record<string, never>> {}\n","export function last<T>(array: T[]): T | undefined {\n\treturn array[array.length - 1]\n}\n","import type { EmbedOptions } from \"../core/components/embed-options\"\nimport type { SelectProps } from \"../core/components/select\"\nimport { last } from \"@reacord/helpers/last\"\nimport type { Except } from \"type-fest\"\n\nexport interface MessageOptions {\n\tcontent: string\n\tembeds: EmbedOptions[]\n\tactionRows: ActionRow[]\n}\n\nexport type ActionRow = ActionRowItem[]\n\nexport type ActionRowItem =\n\t| MessageButtonOptions\n\t| MessageLinkOptions\n\t| MessageSelectOptions\n\nexport interface MessageButtonOptions {\n\ttype: \"button\"\n\tcustomId: string\n\tlabel?: string\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\tdisabled?: boolean\n\temoji?: string\n}\n\nexport interface MessageLinkOptions {\n\ttype: \"link\"\n\turl: string\n\tlabel?: string\n\temoji?: string\n\tdisabled?: boolean\n}\n\nexport type MessageSelectOptions = Except<SelectProps, \"children\" | \"value\"> & {\n\ttype: \"select\"\n\tcustomId: string\n\toptions: MessageSelectOptionOptions[]\n}\n\nexport interface MessageSelectOptionOptions {\n\tlabel: string\n\tvalue: string\n\tdescription?: string\n\temoji?: string\n}\n\nexport interface Message {\n\tedit(options: MessageOptions): Promise<void>\n\tdelete(): Promise<void>\n}\n\nexport function getNextActionRow(options: MessageOptions): ActionRow {\n\tlet actionRow = last(options.actionRows)\n\tif (\n\t\tactionRow == undefined ||\n\t\tactionRow.length >= 5 ||\n\t\tactionRow[0]?.type === \"select\"\n\t) {\n\t\tactionRow = []\n\t\toptions.actionRows.push(actionRow)\n\t}\n\treturn actionRow\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('d√©j√† vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import { camelCase, isObject, snakeCase } from \"lodash-es\"\nimport type {\n\tCamelCasedPropertiesDeep,\n\tSnakeCasedPropertiesDeep,\n\tUnknownRecord,\n} from \"type-fest\"\n\nfunction convertKeyCaseDeep<Input, Output>(\n\tinput: Input,\n\tconvertKey: (key: string) => string,\n): Output {\n\tif (!isObject(input)) {\n\t\treturn input as unknown as Output\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input.map((item) =>\n\t\t\tconvertKeyCaseDeep(item, convertKey),\n\t\t) as unknown as Output\n\t}\n\n\tconst output = {} as UnknownRecord\n\tfor (const [key, value] of Object.entries(input)) {\n\t\toutput[convertKey(key)] = convertKeyCaseDeep(value, convertKey)\n\t}\n\treturn output as Output\n}\n\nexport function camelCaseDeep<T>(input: T): CamelCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, camelCase)\n}\n\nexport function snakeCaseDeep<T>(input: T): SnakeCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, snakeCase)\n}\n","export function omit<Subject extends object, Key extends PropertyKey>(\n\tsubject: Subject,\n\tkeys: Key[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(subject).filter(([key]) => !keySet.has(key)),\n\t\t// hack: conditional type preserves unions\n\t) as Subject extends unknown ? Omit<Subject, Key> : never\n}\n","import type { MessageOptions } from \"./message\"\nimport { Node } from \"./node.js\"\n\nexport class TextNode extends Node<string> {\n\toverride modifyMessageOptions(options: MessageOptions) {\n\t\toptions.content = options.content + this.props\n\t}\n\n\toverride get text() {\n\t\treturn this.props\n\t}\n}\n","import { Node } from \"../../internal/node.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\nexport abstract class EmbedChildNode<Props> extends Node<Props> {\n\tabstract modifyEmbedOptions(options: EmbedOptions): void\n}\n","import { snakeCaseDeep } from \"@reacord/helpers/convert-object-property-case\"\nimport { omit } from \"@reacord/helpers/omit\"\nimport type React from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport { TextNode } from \"../../internal/text-node\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport interface EmbedProps {\n\ttitle?: string\n\tdescription?: string\n\turl?: string\n\tcolor?: number\n\tfields?: Array<{ name: string; value: string; inline?: boolean }>\n\tauthor?: { name: string; url?: string; iconUrl?: string }\n\tthumbnail?: { url: string }\n\timage?: { url: string }\n\tvideo?: { url: string }\n\tfooter?: { text: string; iconUrl?: string }\n\ttimestamp?: string | number | Date\n\tchildren?: React.ReactNode\n}\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport function Embed(props: EmbedProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedNode extends Node<EmbedProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tconst embed: EmbedOptions = {\n\t\t\t...snakeCaseDeep(omit(this.props, [\"children\", \"timestamp\"])),\n\t\t\ttimestamp: this.props.timestamp\n\t\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t\t: undefined,\n\t\t}\n\n\t\tfor (const child of this.children) {\n\t\t\tif (child instanceof EmbedChildNode) {\n\t\t\t\tchild.modifyEmbedOptions(embed)\n\t\t\t}\n\t\t\tif (child instanceof TextNode) {\n\t\t\t\tembed.description = (embed.description ?? \"\") + child.props\n\t\t\t}\n\t\t}\n\n\t\toptions.embeds.push(embed)\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedAuthorProps {\n\tname?: ReactNode\n\tchildren?: ReactNode\n\turl?: string\n\ticonUrl?: string\n}\n\n/** @category Embed */\nexport function EmbedAuthor(props: EmbedAuthorProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedAuthorNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new AuthorTextNode({})}>\n\t\t\t\t{props.name ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedAuthorNode extends EmbedChildNode<EmbedAuthorProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.author = {\n\t\t\tname: this.children.findType(AuthorTextNode)?.text ?? \"\",\n\t\t\turl: this.props.url,\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t}\n}\n\nclass AuthorTextNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFieldProps {\n\tname: ReactNode\n\tvalue?: ReactNode\n\tinline?: boolean\n\tchildren?: ReactNode\n}\n\n/** @category Embed */\nexport function EmbedField(props: EmbedFieldProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFieldNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldNameNode({})}>\n\t\t\t\t{props.name}\n\t\t\t</ReacordElement>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldValueNode({})}>\n\t\t\t\t{props.value ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFieldNode extends EmbedChildNode<EmbedFieldProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.fields ??= []\n\t\toptions.fields.push({\n\t\t\tname: this.children.findType(FieldNameNode)?.text ?? \"\",\n\t\t\tvalue: this.children.findType(FieldValueNode)?.text ?? \"\",\n\t\t\tinline: this.props.inline,\n\t\t})\n\t}\n}\n\nclass FieldNameNode extends Node<Record<string, never>> {}\nclass FieldValueNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFooterProps {\n\ttext?: ReactNode\n\tchildren?: ReactNode\n\ticonUrl?: string\n\ttimestamp?: string | number | Date\n}\n\n/** @category Embed */\nexport function EmbedFooter({ text, children, ...props }: EmbedFooterProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFooterNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FooterTextNode({})}>\n\t\t\t\t{text ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFooterNode extends EmbedChildNode<\n\tOmit<EmbedFooterProps, \"text\" | \"children\">\n> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.footer = {\n\t\t\ttext: this.children.findType(FooterTextNode)?.text ?? \"\",\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t\toptions.timestamp = this.props.timestamp\n\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t: undefined\n\t}\n}\n\nclass FooterTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedImageProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedImage(props: EmbedImageProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedImageNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedImageNode extends EmbedChildNode<EmbedImageProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.image = { url: this.props.url }\n\t}\n}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedThumbnailProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedThumbnail(props: EmbedThumbnailProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedThumbnailNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedThumbnailNode extends EmbedChildNode<EmbedThumbnailProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.thumbnail = { url: this.props.url }\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedTitleProps {\n\tchildren: ReactNode\n\turl?: string\n}\n\n/** @category Embed */\nexport function EmbedTitle({ children, ...props }: EmbedTitleProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedTitleNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new TitleTextNode({})}>\n\t\t\t\t{children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedTitleNode extends EmbedChildNode<Omit<EmbedTitleProps, \"children\">> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.title = this.children.findType(TitleTextNode)?.text ?? \"\"\n\t\toptions.url = this.props.url\n\t}\n}\n\nclass TitleTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Link */\nexport type LinkProps = ButtonSharedProps & {\n\t/** The URL the link should lead to */\n\turl: string\n\t/** The link text */\n\tchildren?: string\n}\n\n/** @category Link */\nexport function Link({ label, children, ...props }: LinkProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new LinkNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new LinkTextNode({})}>\n\t\t\t\t{label ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass LinkNode extends Node<Omit<LinkProps, \"label\" | \"children\">> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"link\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(LinkTextNode)?.text,\n\t\t\turl: this.props.url,\n\t\t})\n\t}\n}\n\nclass LinkTextNode extends Node<Record<string, never>> {}\n","import type { MessageSelectOptionOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node\"\nimport type { OptionProps } from \"./option\"\n\nexport class OptionNode extends Node<\n\tOmit<OptionProps, \"children\" | \"label\" | \"description\">\n> {\n\tget options(): MessageSelectOptionOptions {\n\t\treturn {\n\t\t\tlabel: this.children.findType(OptionLabelNode)?.text ?? this.props.value,\n\t\t\tvalue: this.props.value,\n\t\t\tdescription: this.children.findType(OptionDescriptionNode)?.text,\n\t\t\temoji: this.props.emoji,\n\t\t}\n\t}\n}\n\nexport class OptionLabelNode extends Node<Record<string, never>> {}\nexport class OptionDescriptionNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element\"\nimport {\n\tOptionDescriptionNode,\n\tOptionLabelNode,\n\tOptionNode,\n} from \"./option-node\"\n\n/** @category Select */\nexport interface OptionProps {\n\t/** The internal value of this option */\n\tvalue: string\n\t/** The text shown to the user. This takes priority over `children` */\n\tlabel?: ReactNode\n\t/** The text shown to the user */\n\tchildren?: ReactNode\n\t/** Description for the option, shown to the user */\n\tdescription?: ReactNode\n\n\t/**\n\t * Renders an emoji to the left of the text.\n\t *\n\t * Has to be a literal emoji character (e.g. üçç), or an emoji code, like\n\t * `<:plus_one:778531744860602388>`.\n\t *\n\t * To get an emoji code, type your emoji in Discord chat with a backslash `\\`\n\t * in front. The bot has to be in the emoji's guild to use it.\n\t */\n\temoji?: string\n}\n\n/** @category Select */\nexport function Option({\n\tlabel,\n\tchildren,\n\tdescription,\n\t...props\n}: OptionProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new OptionNode(props)}>\n\t\t\t{(label !== undefined || children !== undefined) && (\n\t\t\t\t<ReacordElement props={{}} createNode={() => new OptionLabelNode({})}>\n\t\t\t\t\t{label ?? children}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t\t{description !== undefined && (\n\t\t\t\t<ReacordElement\n\t\t\t\t\tprops={{}}\n\t\t\t\t\tcreateNode={() => new OptionDescriptionNode({})}\n\t\t\t\t>\n\t\t\t\t\t{description}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t</ReacordElement>\n\t)\n}\n","/** For narrowing instance types with array.filter */\nexport const isInstanceOf =\n\t<Instance, Args extends unknown[]>(\n\t\tconstructor: new (...args: Args) => Instance,\n\t) =>\n\t(value: unknown): value is Instance =>\n\t\tvalue instanceof constructor\n","import { isInstanceOf } from \"@reacord/helpers/is-instance-of\"\nimport { randomUUID } from \"node:crypto\"\nimport type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type {\n\tActionRow,\n\tActionRowItem,\n\tMessageOptions,\n} from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport { OptionNode } from \"./option-node\"\nimport { omit } from \"@reacord/helpers/omit.js\"\n\n/** @category Select */\nexport interface SelectProps {\n\tchildren?: ReactNode\n\t/** Sets the currently selected value */\n\tvalue?: string\n\n\t/** Sets the currently selected values, for use with `multiple` */\n\tvalues?: string[]\n\n\t/** The text shown when no value is selected */\n\tplaceholder?: string\n\n\t/** Set to true to allow multiple selected values */\n\tmultiple?: boolean\n\n\t/**\n\t * With `multiple`, the minimum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tminValues?: number\n\n\t/**\n\t * With `multiple`, the maximum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tmaxValues?: number\n\n\t/**\n\t * When true, the select will be slightly faded, and cannot be interacted\n\t * with.\n\t */\n\tdisabled?: boolean\n\n\t/**\n\t * Called when the user inputs a selection. Receives the entire select change\n\t * event, which can be used to create new replies, etc.\n\t */\n\tonChange?: (event: SelectChangeEvent) => void\n\n\t/**\n\t * Convenience shorthand for `onChange`, which receives the first selected\n\t * value.\n\t */\n\tonChangeValue?: (value: string, event: SelectChangeEvent) => void\n\n\t/** Convenience shorthand for `onChange`, which receives all selected values. */\n\tonChangeMultiple?: (values: string[], event: SelectChangeEvent) => void\n}\n\n/** @category Select */\nexport type SelectChangeEvent = ComponentEvent & {\n\tvalues: string[]\n}\n\n/**\n * See [the select menu guide](/guides/select-menu) for a usage example.\n *\n * @category Select\n */\nexport function Select(props: SelectProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new SelectNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass SelectNode extends Node<SelectProps> {\n\treadonly customId = randomUUID()\n\n\toverride modifyMessageOptions(message: MessageOptions): void {\n\t\tconst actionRow: ActionRow = []\n\t\tmessage.actionRows.push(actionRow)\n\n\t\tconst options = [...this.children]\n\t\t\t.filter(isInstanceOf(OptionNode))\n\t\t\t.map((node) => node.options)\n\n\t\tconst {\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\tvalues,\n\t\t\tminValues = 0,\n\t\t\tmaxValues = 25,\n\t\t\t...props\n\t\t} = omit(this.props, [\n\t\t\t\"children\",\n\t\t\t\"onChange\",\n\t\t\t\"onChangeValue\",\n\t\t\t\"onChangeMultiple\",\n\t\t])\n\n\t\tconst item: ActionRowItem = {\n\t\t\t...props,\n\t\t\ttype: \"select\",\n\t\t\tcustomId: this.customId,\n\t\t\toptions,\n\t\t\tvalues: [],\n\t\t}\n\n\t\tif (multiple) {\n\t\t\titem.minValues = minValues\n\t\t\titem.maxValues = maxValues\n\t\t\tif (values) item.values = values\n\t\t}\n\n\t\tif (!multiple && value != undefined) {\n\t\t\titem.values = [value]\n\t\t}\n\n\t\tactionRow.push(item)\n\t}\n\n\toverride handleComponentInteraction(\n\t\tinteraction: ComponentInteraction,\n\t): boolean {\n\t\tconst isSelectInteraction =\n\t\t\tinteraction.type === \"select\" &&\n\t\t\tinteraction.customId === this.customId &&\n\t\t\t!this.props.disabled\n\n\t\tif (!isSelectInteraction) return false\n\n\t\tthis.props.onChange?.(interaction.event)\n\t\tthis.props.onChangeMultiple?.(interaction.event.values, interaction.event)\n\t\tif (interaction.event.values[0]) {\n\t\t\tthis.props.onChangeValue?.(interaction.event.values[0], interaction.event)\n\t\t}\n\t\treturn true\n\t}\n}\n","export function toError(value: unknown) {\n\treturn value instanceof Error ? value : new Error(String(value))\n}\n","import { toError } from \"./to-error.js\"\n\nexport function raise(error: unknown): never {\n\tthrow toError(error)\n}\n","import type { ReacordInstance } from \"./instance.js\"\nimport { raise } from \"@reacord/helpers/raise.js\"\nimport * as React from \"react\"\n\nconst Context = React.createContext<ReacordInstance | undefined>(undefined)\n\nexport const InstanceProvider = Context.Provider\n\n/**\n * Get the associated instance for the current component.\n *\n * @category Core\n * @see https://reacord.mapleleaf.dev/guides/use-instance\n */\nexport function useInstance(): ReacordInstance {\n\treturn (\n\t\tReact.useContext(Context) ??\n\t\traise(\"Could not find instance, was this component rendered via Reacord?\")\n\t)\n}\n","import { raise } from \"@reacord/helpers/raise.js\"\nimport type { HostConfig } from \"react-reconciler\"\nimport ReactReconciler from \"react-reconciler\"\nimport { DefaultEventPriority } from \"react-reconciler/constants.js\"\nimport { Node } from \"./node.js\"\nimport type { Renderer } from \"./renderers/renderer\"\nimport { TextNode } from \"./text-node.js\"\n\nconst config: HostConfig<\n\tstring, // Type,\n\tRecord<string, unknown>, // Props,\n\tRenderer, // Container,\n\tNode<unknown>, // Instance,\n\tTextNode, // TextInstance,\n\tnever, // SuspenseInstance,\n\tnever, // HydratableInstance,\n\tnever, // PublicInstance,\n\tnever, // HostContext,\n\ttrue, // UpdatePayload,\n\tnever, // ChildSet,\n\tnumber, // TimeoutHandle,\n\tnumber // NoTimeout,\n> = {\n\tsupportsMutation: true,\n\tsupportsPersistence: false,\n\tsupportsHydration: false,\n\tisPrimaryRenderer: true,\n\tscheduleTimeout: global.setTimeout,\n\tcancelTimeout: global.clearTimeout,\n\tnoTimeout: -1,\n\n\tgetRootHostContext: () => null,\n\tgetChildHostContext: (parentContext) => parentContext,\n\n\tcreateInstance: (type, props) => {\n\t\tif (type !== \"reacord-element\") {\n\t\t\traise(`Unknown element type: ${type}`)\n\t\t}\n\n\t\tif (typeof props.createNode !== \"function\") {\n\t\t\traise(`Missing createNode function`)\n\t\t}\n\n\t\tconst node: unknown = props.createNode(props.props)\n\t\tif (!(node instanceof Node)) {\n\t\t\traise(`createNode function did not return a Node`)\n\t\t}\n\n\t\treturn node\n\t},\n\tcreateTextInstance: (text) => new TextNode(text),\n\tshouldSetTextContent: () => false,\n\tdetachDeletedInstance: (_instance) => {},\n\tbeforeActiveInstanceBlur: () => {},\n\tafterActiveInstanceBlur: () => {},\n\tgetInstanceFromNode: (_node: unknown) => null,\n\tgetInstanceFromScope: (_scopeInstance: unknown) => null,\n\n\tclearContainer: (renderer) => {\n\t\trenderer.nodes.clear()\n\t},\n\tappendChildToContainer: (renderer, child) => {\n\t\trenderer.nodes.add(child)\n\t},\n\tremoveChildFromContainer: (renderer, child) => {\n\t\trenderer.nodes.remove(child)\n\t},\n\tinsertInContainerBefore: (renderer, child, before) => {\n\t\trenderer.nodes.addBefore(child, before)\n\t},\n\n\tappendInitialChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tappendChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tremoveChild: (parent, child) => {\n\t\tparent.children.remove(child)\n\t},\n\tinsertBefore: (parent, child, before) => {\n\t\tparent.children.addBefore(child, before)\n\t},\n\n\tprepareUpdate: () => true,\n\tcommitUpdate: (node, payload, type, oldProps, newProps) => {\n\t\tnode.props = newProps.props\n\t},\n\tcommitTextUpdate: (node, oldText, newText) => {\n\t\tnode.props = newText\n\t},\n\n\tprepareForCommit: () => null,\n\tresetAfterCommit: (renderer) => {\n\t\trenderer.render()\n\t},\n\tprepareScopeUpdate: (_scopeInstance: unknown, _instance: unknown) => {},\n\n\tpreparePortalMount: () => raise(\"Portals are not supported\"),\n\tgetPublicInstance: () => raise(\"Refs are currently not supported\"),\n\n\tfinalizeInitialChildren: () => false,\n\n\tgetCurrentEventPriority: () => DefaultEventPriority,\n}\n\nexport const reconciler = ReactReconciler(config)\n","import type { ReactNode } from \"react\"\nimport type { ComponentInteraction } from \"../internal/interaction.js\"\nimport { reconciler } from \"../internal/reconciler.js\"\nimport type { Renderer } from \"../internal/renderers/renderer.js\"\nimport { InstanceProvider } from \"./instance-context.js\"\nimport type { ReacordInstance } from \"./instance.js\"\n\n/** @category Core */\nexport interface ReacordConfig {\n\t/**\n\t * The max number of active instances. When this limit is exceeded, the oldest\n\t * instances will be disabled.\n\t */\n\tmaxInstances?: number\n}\n\n/**\n * The main Reacord class that other Reacord adapters should extend. Only use\n * this directly if you're making [a custom adapter](/guides/custom-adapters).\n */\nexport abstract class Reacord {\n\tprivate renderers: Renderer[] = []\n\n\tconstructor(private readonly config: ReacordConfig = {}) {}\n\n\tprotected handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const renderer of this.renderers) {\n\t\t\tif (renderer.handleComponentInteraction(interaction)) return\n\t\t}\n\t}\n\n\tprivate get maxInstances() {\n\t\treturn this.config.maxInstances ?? 50\n\t}\n\n\tprotected createInstance(renderer: Renderer, initialContent?: ReactNode) {\n\t\tif (this.renderers.length > this.maxInstances && this.renderers[0]) {\n\t\t\tthis.deactivate(this.renderers[0])\n\t\t}\n\n\t\tthis.renderers.push(renderer)\n\n\t\tconst container: unknown = reconciler.createContainer(\n\t\t\trenderer,\n\t\t\t0,\n\t\t\tnull,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\t\"reacord\",\n\t\t\t() => {},\n\t\t\tnull,\n\t\t)\n\n\t\tconst instance: ReacordInstance = {\n\t\t\trender: (content: ReactNode) => {\n\t\t\t\treconciler.updateContainer(\n\t\t\t\t\t<InstanceProvider value={instance}>{content}</InstanceProvider>,\n\t\t\t\t\tcontainer,\n\t\t\t\t)\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdeactivate: () => {\n\t\t\t\tthis.deactivate(renderer)\n\t\t\t},\n\t\t\tdestroy: () => {\n\t\t\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\t\t\trenderer.destroy()\n\t\t\t},\n\t\t}\n\n\t\tif (initialContent !== undefined) {\n\t\t\tinstance.render(initialContent)\n\t\t}\n\n\t\treturn instance\n\t}\n\n\tprivate deactivate(renderer: Renderer) {\n\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\trenderer.deactivate()\n\t}\n}\n","export function safeJsonStringify(value: unknown): string {\n\ttry {\n\t\treturn JSON.stringify(value)\n\t} catch {\n\t\treturn String(value)\n\t}\n}\n","import type { LoosePick } from \"./types\"\n\nexport function pick<T extends object, K extends keyof T | PropertyKey>(\n\tobject: T,\n\tkeys: K[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(object).filter(([key]) => keySet.has(key)),\n\t) as LoosePick<T, K>\n}\n","export function isObject(value: unknown): value is object {\n\treturn typeof value === \"object\" && value !== null\n}\n","import { isObject } from \"./is-object\"\n\nexport function pruneNullishValues<T>(input: T): PruneNullishValues<T> {\n\tif (!isObject(input)) {\n\t\treturn input as PruneNullishValues<T>\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input\n\t\t\t.filter(Boolean)\n\t\t\t.map(\n\t\t\t\t(item) => pruneNullishValues(item) as unknown,\n\t\t\t) as PruneNullishValues<T>\n\t}\n\n\tconst result: Record<string, unknown> = {}\n\tfor (const [key, value] of Object.entries(input)) {\n\t\tif (value != undefined) {\n\t\t\tresult[key] = pruneNullishValues(value)\n\t\t}\n\t}\n\treturn result as PruneNullishValues<T>\n}\n\nexport type PruneNullishValues<Input> = Input extends object\n\t? OptionalKeys<\n\t\t\t{ [Key in keyof Input]: NonNullable<PruneNullishValues<Input[Key]>> },\n\t\t\tKeysWithNullishValues<Input>\n\t  >\n\t: Input\n\ntype OptionalKeys<Input, Keys extends keyof Input> = Omit<Input, Keys> & {\n\t[Key in Keys]?: Input[Key]\n}\n\ntype KeysWithNullishValues<Input> = NonNullable<\n\tValues<{\n\t\t[Key in keyof Input]: null extends Input[Key]\n\t\t\t? Key\n\t\t\t: undefined extends Input[Key]\n\t\t\t? Key\n\t\t\t: never\n\t}>\n>\n\ntype Values<Input> = Input[keyof Input]\n","import { safeJsonStringify } from \"@reacord/helpers/json\"\nimport { pick } from \"@reacord/helpers/pick\"\nimport { pruneNullishValues } from \"@reacord/helpers/prune-nullish-values\"\nimport { raise } from \"@reacord/helpers/raise\"\nimport * as Discord from \"discord.js\"\nimport type { ReactNode } from \"react\"\nimport type { Except } from \"type-fest\"\nimport type { ComponentInteraction } from \"../internal/interaction\"\nimport type {\n\tMessage,\n\tMessageButtonOptions,\n\tMessageOptions,\n} from \"../internal/message\"\nimport { ChannelMessageRenderer } from \"../internal/renderers/channel-message-renderer\"\nimport { InteractionReplyRenderer } from \"../internal/renderers/interaction-reply-renderer\"\nimport type {\n\tComponentEventChannel,\n\tComponentEventGuild,\n\tComponentEventGuildMember,\n\tComponentEventMessage,\n\tComponentEventReplyOptions,\n\tComponentEventUser,\n} from \"./component-event\"\nimport type { ReacordInstance } from \"./instance\"\nimport type { ReacordConfig } from \"./reacord\"\nimport { Reacord } from \"./reacord\"\n\n/**\n * The Reacord adapter for Discord.js.\n *\n * @category Core\n */\nexport class ReacordDiscordJs extends Reacord {\n\tconstructor(\n\t\tprivate client: Discord.Client,\n\t\tconfig: ReacordConfig = {},\n\t) {\n\t\tsuper(config)\n\n\t\tclient.on(\"interactionCreate\", (interaction) => {\n\t\t\tif (interaction.isButton() || interaction.isStringSelectMenu()) {\n\t\t\t\tthis.handleComponentInteraction(\n\t\t\t\t\tthis.createReacordComponentInteraction(interaction),\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @param target Discord channel object.\n\t * @param [options] Options for the channel message\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.MessageCreateOptions}\n\t */\n\tpublic createChannelMessage(\n\t\ttarget: Discord.ChannelResolvable,\n\t\toptions: Discord.MessageCreateOptions = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(target, options),\n\t\t)\n\t}\n\n\t/**\n\t * Replies to a command interaction by sending a message.\n\t *\n\t * @param interaction Discord command interaction object.\n\t * @param [options] Custom options for the interaction reply method.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.InteractionReplyOptions}\n\t */\n\tpublic createInteractionReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\toptions: Discord.InteractionReplyOptions = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, options),\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @deprecated Use reacord.createChannelMessage() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic send(\n\t\tchannel: Discord.ChannelResolvable,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(channel, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic reply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends an ephemeral message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply(interaction, { ephemeral:\n\t *   true })\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic ephemeralReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\tephemeral: true,\n\t\t\t}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\tprivate createChannelMessageRenderer(\n\t\tchannelResolvable: Discord.ChannelResolvable,\n\t\tmessageCreateOptions?: Discord.MessageCreateOptions,\n\t) {\n\t\treturn new ChannelMessageRenderer({\n\t\t\tsend: async (messageOptions) => {\n\t\t\t\tlet channel = this.client.channels.resolve(channelResolvable)\n\t\t\t\tif (!channel && typeof channelResolvable === \"string\") {\n\t\t\t\t\tchannel = await this.client.channels.fetch(channelResolvable)\n\t\t\t\t}\n\n\t\t\t\tif (!channel) {\n\t\t\t\t\tconst id =\n\t\t\t\t\t\ttypeof channelResolvable === \"string\"\n\t\t\t\t\t\t\t? channelResolvable\n\t\t\t\t\t\t\t: channelResolvable.id\n\t\t\t\t\traise(`Channel ${id} not found`)\n\t\t\t\t}\n\n\t\t\t\tif (!channel.isTextBased()) {\n\t\t\t\t\traise(`Channel ${channel.id} must be a text channel`)\n\t\t\t\t}\n\n\t\t\t\tconst message = await channel.send({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...messageCreateOptions,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createInteractionReplyRenderer(\n\t\tinteraction:\n\t\t\t| Discord.CommandInteraction\n\t\t\t| Discord.MessageComponentInteraction,\n\t\tinteractionReplyOptions: Discord.InteractionReplyOptions,\n\t) {\n\t\treturn new InteractionReplyRenderer({\n\t\t\tinteractionId: interaction.id,\n\t\t\treply: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createReacordComponentInteraction(\n\t\tinteraction: Discord.MessageComponentInteraction,\n\t): ComponentInteraction {\n\t\t// todo please dear god clean this up\n\t\tconst channel: ComponentEventChannel = interaction.channel\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\tpick(interaction.channel, [\n\t\t\t\t\t\t\t\"topic\",\n\t\t\t\t\t\t\t\"nsfw\",\n\t\t\t\t\t\t\t\"lastMessageId\",\n\t\t\t\t\t\t\t\"ownerId\",\n\t\t\t\t\t\t\t\"parentId\",\n\t\t\t\t\t\t\t\"rateLimitPerUser\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t),\n\t\t\t\t\tid: interaction.channelId,\n\t\t\t  }\n\t\t\t: raise(\"Non-channel interactions are not supported\")\n\n\t\tconst message: ComponentEventMessage =\n\t\t\tinteraction.message instanceof Discord.Message\n\t\t\t\t? {\n\t\t\t\t\t\t...pick(interaction.message, [\n\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\"channelId\",\n\t\t\t\t\t\t\t\"authorId\",\n\t\t\t\t\t\t\t\"content\",\n\t\t\t\t\t\t\t\"tts\",\n\t\t\t\t\t\t\t\"mentionEveryone\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t\ttimestamp: new Date(\n\t\t\t\t\t\t\tinteraction.message.createdTimestamp,\n\t\t\t\t\t\t).toISOString(),\n\t\t\t\t\t\teditedTimestamp: interaction.message.editedTimestamp\n\t\t\t\t\t\t\t? new Date(interaction.message.editedTimestamp).toISOString()\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tmentions: interaction.message.mentions.users.map((u) => u.id),\n\t\t\t\t\t\tauthorId: interaction.message.author.id,\n\t\t\t\t\t\tmentionEveryone: interaction.message.mentions.everyone,\n\t\t\t\t  }\n\t\t\t\t: raise(\"Message not found\")\n\n\t\tconst member: ComponentEventGuildMember | undefined =\n\t\t\tinteraction.member instanceof Discord.GuildMember\n\t\t\t\t? {\n\t\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\t\tpick(interaction.member, [\n\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\"nick\",\n\t\t\t\t\t\t\t\t\"displayName\",\n\t\t\t\t\t\t\t\t\"avatarUrl\",\n\t\t\t\t\t\t\t\t\"displayAvatarUrl\",\n\t\t\t\t\t\t\t\t\"color\",\n\t\t\t\t\t\t\t\t\"pending\",\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName: interaction.member.displayName,\n\t\t\t\t\t\troles: interaction.member.roles.cache.map((role) => role.id),\n\t\t\t\t\t\tjoinedAt: interaction.member.joinedAt?.toISOString(),\n\t\t\t\t\t\tpremiumSince: interaction.member.premiumSince?.toISOString(),\n\t\t\t\t\t\tcommunicationDisabledUntil:\n\t\t\t\t\t\t\tinteraction.member.communicationDisabledUntil?.toISOString(),\n\t\t\t\t\t\tcolor: interaction.member.displayColor,\n\t\t\t\t\t\tdisplayAvatarUrl: interaction.member.displayAvatarURL(),\n\t\t\t\t  }\n\t\t\t\t: undefined\n\n\t\tconst guild: ComponentEventGuild | undefined = interaction.guild\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(pick(interaction.guild, [\"id\", \"name\"])),\n\t\t\t\t\tmember: member ?? raise(\"unexpected: member is undefined\"),\n\t\t\t  }\n\t\t\t: undefined\n\n\t\tconst user: ComponentEventUser = {\n\t\t\t...pruneNullishValues(\n\t\t\t\tpick(interaction.user, [\"id\", \"username\", \"discriminator\", \"tag\"]),\n\t\t\t),\n\t\t\tavatarUrl: interaction.user.avatarURL(),\n\t\t\taccentColor: interaction.user.accentColor ?? undefined,\n\t\t}\n\n\t\tconst baseProps: Except<ComponentInteraction, \"type\"> = {\n\t\t\tid: interaction.id,\n\t\t\tcustomId: interaction.customId,\n\t\t\tupdate: async (options: MessageOptions) => {\n\t\t\t\tif (interaction.deferred || interaction.replied) {\n\t\t\t\t\tawait interaction.message.edit(getDiscordMessageOptions(options))\n\t\t\t\t} else {\n\t\t\t\t\tawait interaction.update(getDiscordMessageOptions(options))\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferUpdate: async () => {\n\t\t\t\tif (interaction.replied || interaction.deferred) return\n\t\t\t\tawait interaction.deferUpdate()\n\t\t\t},\n\t\t\treply: async (options) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (options) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tevent: {\n\t\t\t\tchannel,\n\t\t\t\tmessage,\n\t\t\t\tuser,\n\t\t\t\tguild,\n\n\t\t\t\treply: (content?: ReactNode, options?: ComponentEventReplyOptions) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, options ?? {}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\n\t\t\t\t/** @deprecated Use event.reply(content, { ephemeral: true }) */\n\t\t\t\tephemeralReply: (content: ReactNode) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\t\t\t\tephemeral: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\t\t\t},\n\t\t}\n\n\t\tif (interaction.isButton()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"button\",\n\t\t\t}\n\t\t}\n\n\t\tif (interaction.isStringSelectMenu()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"select\",\n\t\t\t\tevent: {\n\t\t\t\t\t...baseProps.event,\n\t\t\t\t\tvalues: interaction.values,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\traise(`Unsupported component interaction type: ${interaction.type}`)\n\t}\n}\n\nfunction createReacordMessage(message: Discord.Message): Message {\n\treturn {\n\t\tedit: async (options) => {\n\t\t\tawait message.edit(getDiscordMessageOptions(options))\n\t\t},\n\t\tdelete: async () => {\n\t\t\tawait message.delete()\n\t\t},\n\t}\n}\n\nfunction convertButtonStyleToEnum(style: MessageButtonOptions[\"style\"]) {\n\tconst styleMap = {\n\t\tprimary: Discord.ButtonStyle.Primary,\n\t\tsecondary: Discord.ButtonStyle.Secondary,\n\t\tsuccess: Discord.ButtonStyle.Success,\n\t\tdanger: Discord.ButtonStyle.Danger,\n\t} as const\n\n\treturn styleMap[style ?? \"secondary\"]\n}\n\n// TODO: this could be a part of the core library,\n// and also handle some edge cases, e.g. empty messages\nfunction getDiscordMessageOptions(reacordOptions: MessageOptions) {\n\tconst options = {\n\t\tcontent: reacordOptions.content || undefined,\n\t\tembeds: reacordOptions.embeds,\n\t\tcomponents: reacordOptions.actionRows.map((row) => ({\n\t\t\ttype: Discord.ComponentType.ActionRow,\n\t\t\tcomponents: row.map(\n\t\t\t\t(component): Discord.MessageActionRowComponentData => {\n\t\t\t\t\tif (component.type === \"button\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\tcustomId: component.customId,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: convertButtonStyleToEnum(component.style),\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component.type === \"link\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\turl: component.url,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: Discord.ButtonStyle.Link,\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// future proofing\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tif (component.type === \"select\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...component,\n\t\t\t\t\t\t\ttype: Discord.ComponentType.SelectMenu,\n\t\t\t\t\t\t\toptions: component.options.map((option) => ({\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\tdefault: component.values?.includes(option.value),\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponent satisfies never\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Invalid component type ${safeJsonStringify(component)}}`,\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t),\n\t\t})),\n\t}\n\n\tif (!options.content && !options.embeds.length) {\n\t\toptions.content = \"_ _\"\n\t}\n\n\treturn options\n}\n","import { Container } from \"../container.js\"\nimport type { ComponentInteraction } from \"../interaction\"\nimport type { Message, MessageOptions } from \"../message\"\nimport type { Node } from \"../node.js\"\nimport { Subject } from \"rxjs\"\nimport { concatMap } from \"rxjs/operators\"\n\ntype UpdatePayload =\n\t| { action: \"update\" | \"deactivate\"; options: MessageOptions }\n\t| { action: \"deferUpdate\"; interaction: ComponentInteraction }\n\t| { action: \"destroy\" }\n\nexport abstract class Renderer {\n\treadonly nodes = new Container<Node<unknown>>()\n\tprivate componentInteraction?: ComponentInteraction\n\tprivate message?: Message\n\tprivate active = true\n\tprivate updates = new Subject<UpdatePayload>()\n\n\tprivate updateSubscription = this.updates\n\t\t.pipe(concatMap((payload) => this.updateMessage(payload)))\n\t\t.subscribe({ error: console.error })\n\n\trender() {\n\t\tif (!this.active) {\n\t\t\tconsole.warn(\"Attempted to update a deactivated message\")\n\t\t\treturn\n\t\t}\n\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"update\",\n\t\t})\n\t}\n\n\tdeactivate() {\n\t\tthis.active = false\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"deactivate\",\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis.active = false\n\t\tthis.updates.next({ action: \"destroy\" })\n\t}\n\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const node of this.nodes) {\n\t\t\tif (node.handleComponentInteraction(interaction)) {\n\t\t\t\tthis.componentInteraction = interaction\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.updates.next({ action: \"deferUpdate\", interaction })\n\t\t\t\t}, 500)\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract createMessage(options: MessageOptions): Promise<Message>\n\n\tprivate getMessageOptions(): MessageOptions {\n\t\tconst options: MessageOptions = {\n\t\t\tcontent: \"\",\n\t\t\tembeds: [],\n\t\t\tactionRows: [],\n\t\t}\n\t\tfor (const node of this.nodes) {\n\t\t\tnode.modifyMessageOptions(options)\n\t\t}\n\t\treturn options\n\t}\n\n\tprivate async updateMessage(payload: UpdatePayload) {\n\t\tif (payload.action === \"destroy\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\t\t\tawait this.message?.delete()\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deactivate\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\n\t\t\tawait this.message?.edit({\n\t\t\t\t...payload.options,\n\t\t\t\tactionRows: payload.options.actionRows.map((row) =>\n\t\t\t\t\trow.map((component) => ({\n\t\t\t\t\t\t...component,\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t})),\n\t\t\t\t),\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deferUpdate\") {\n\t\t\tawait payload.interaction.deferUpdate()\n\t\t\treturn\n\t\t}\n\n\t\tif (this.componentInteraction) {\n\t\t\tconst promise = this.componentInteraction.update(payload.options)\n\t\t\tthis.componentInteraction = undefined\n\t\t\tawait promise\n\t\t\treturn\n\t\t}\n\n\t\tif (this.message) {\n\t\t\tawait this.message.edit(payload.options)\n\t\t\treturn\n\t\t}\n\n\t\tthis.message = await this.createMessage(payload.options)\n\t}\n}\n","import type { Channel } from \"../channel\"\nimport type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\nexport class ChannelMessageRenderer extends Renderer {\n\tconstructor(private channel: Channel) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\treturn this.channel.send(options)\n\t}\n}\n","import type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\n// keep track of interaction ids which have replies,\n// so we know whether to call reply() or followUp()\nconst repliedInteractionIds = new Set<string>()\n\nexport type InteractionReplyRendererImplementation = {\n\tinteractionId: string\n\treply: (options: MessageOptions) => Promise<Message>\n\tfollowUp: (options: MessageOptions) => Promise<Message>\n}\n\nexport class InteractionReplyRenderer extends Renderer {\n\tconstructor(private implementation: InteractionReplyRendererImplementation) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\tif (repliedInteractionIds.has(this.implementation.interactionId)) {\n\t\t\treturn this.implementation.followUp(options)\n\t\t}\n\n\t\trepliedInteractionIds.add(this.implementation.interactionId)\n\t\treturn this.implementation.reply(options)\n\t}\n}\n"],"mappings":"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AAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAC1B,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,E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","names":["React","import_jsx_runtime","Symbol","objectProto","nativeObjectToString","symToStringTag","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsCombo","rsApos","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_node_crypto","import_jsx_runtime","React","ReactReconciler","import_jsx_runtime","config","isObject","isObject","config","message"]}
\ No newline at end of file
+{"version":3,"sources":["../library/main.ts","../library/internal/element.ts","../library/internal/container.ts","../library/internal/node.ts","../library/core/components/action-row.tsx","../library/core/components/button.tsx","../../helpers/last.ts","../library/internal/message.ts","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayMap.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayReduce.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyOf.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_deburrLetter.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/deburr.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_asciiWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasUnicodeWord.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_unicodeWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/words.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createCompounder.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/snakeCase.js","../../helpers/convert-object-property-case.ts","../../helpers/omit.ts","../library/internal/text-node.ts","../library/core/components/embed-child.ts","../library/core/components/embed.tsx","../library/core/components/embed-author.tsx","../library/core/components/embed-field.tsx","../library/core/components/embed-footer.tsx","../library/core/components/embed-image.tsx","../library/core/components/embed-thumbnail.tsx","../library/core/components/embed-title.tsx","../library/core/components/link.tsx","../library/core/components/option-node.ts","../library/core/components/option.tsx","../../helpers/is-instance-of.ts","../library/core/components/select.tsx","../../helpers/to-error.ts","../../helpers/raise.ts","../library/core/instance-context.tsx","../library/internal/reconciler.ts","../library/core/reacord.tsx","../../helpers/json.ts","../../helpers/pick.ts","../../helpers/is-object.ts","../../helpers/prune-nullish-values.ts","../library/core/reacord-discord-js.ts","../library/internal/renderers/renderer.ts","../library/internal/renderers/channel-message-renderer.ts","../library/internal/renderers/interaction-reply-renderer.ts"],"sourcesContent":["export * from \"./core/component-event\"\nexport * from \"./core/components/action-row\"\nexport * from \"./core/components/button\"\nexport * from \"./core/components/button-shared-props\"\nexport * from \"./core/components/embed\"\nexport * from \"./core/components/embed-author\"\nexport * from \"./core/components/embed-field\"\nexport * from \"./core/components/embed-footer\"\nexport * from \"./core/components/embed-image\"\nexport * from \"./core/components/embed-thumbnail\"\nexport * from \"./core/components/embed-title\"\nexport * from \"./core/components/link\"\nexport * from \"./core/components/option\"\nexport * from \"./core/components/select\"\nexport * from \"./core/instance\"\nexport { useInstance } from \"./core/instance-context\"\nexport * from \"./core/reacord\"\nexport * from \"./core/reacord-discord-js\"\n","import type { Node } from \"./node\"\nimport type { ReactNode } from \"react\"\nimport React from \"react\"\n\nexport function ReacordElement<Props>(props: {\n\tprops: Props\n\tcreateNode: () => Node<Props>\n\tchildren?: ReactNode\n}) {\n\treturn React.createElement(\"reacord-element\", props)\n}\n","export class Container<T> {\n\tprivate items: T[] = []\n\n\tadd(...items: T[]) {\n\t\tthis.items.push(...items)\n\t}\n\n\taddBefore(item: T, before: T) {\n\t\tlet index = this.items.indexOf(before)\n\t\tif (index === -1) {\n\t\t\tindex = this.items.length\n\t\t}\n\t\tthis.items.splice(index, 0, item)\n\t}\n\n\tremove(toRemove: T) {\n\t\tthis.items = this.items.filter((item) => item !== toRemove)\n\t}\n\n\tclear() {\n\t\tthis.items = []\n\t}\n\n\tfind(predicate: (item: T) => boolean): T | undefined {\n\t\treturn this.items.find(predicate)\n\t}\n\n\tfindType<U extends T>(\n\t\ttype: new (...args: Array<NonNullable<unknown>>) => U,\n\t): U | undefined {\n\t\tfor (const item of this.items) {\n\t\t\tif (item instanceof type) return item\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.items[Symbol.iterator]()\n\t}\n}\n","import { Container } from \"./container.js\"\nimport type { ComponentInteraction } from \"./interaction\"\nimport type { MessageOptions } from \"./message\"\n\nexport abstract class Node<Props> {\n\treadonly children = new Container<Node<unknown>>()\n\n\tconstructor(public props: Props) {}\n\n\tmodifyMessageOptions(_options: MessageOptions) {\n\t\t// noop\n\t}\n\n\thandleComponentInteraction(_interaction: ComponentInteraction): boolean {\n\t\treturn false\n\t}\n\n\tget text(): string {\n\t\treturn [...this.children].map((child) => child.text).join(\"\")\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction.js\"\n\n/**\n * Props for an action row\n *\n * @category Action Row\n */\nexport interface ActionRowProps {\n\tchildren?: ReactNode\n}\n\n/**\n * An action row is a top-level container for message components.\n *\n * You don't need to use this; Reacord automatically creates action rows for\n * you. But this can be useful if you want a specific layout.\n *\n * ```tsx\n * // put buttons on two separate rows\n * <ActionRow>\n *   <Button label=\"First\" onClick={handleFirst} />\n * </ActionRow>\n * <Button label=\"Second\" onClick={handleSecond} />\n * ```\n *\n * @category Action Row\n * @see https://discord.com/developers/docs/interactions/message-components#action-rows\n */\nexport function ActionRow(props: ActionRowProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ActionRowNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass ActionRowNode extends Node<ActionRowProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\toptions.actionRows.push([])\n\t\tfor (const child of this.children) {\n\t\t\tchild.modifyMessageOptions(options)\n\t\t}\n\t}\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const child of this.children) {\n\t\t\tif (child.handleComponentInteraction(interaction)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n}\n","import { randomUUID } from \"node:crypto\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Button */\nexport type ButtonProps = ButtonSharedProps & {\n\t/**\n\t * The style determines the color of the button and signals intent.\n\t *\n\t * @see https://discord.com/developers/docs/interactions/message-components#button-object-button-styles\n\t */\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\n\t/** Happens when a user clicks the button. */\n\tonClick: (event: ButtonClickEvent) => void\n}\n\n/** @category Button */\nexport type ButtonClickEvent = ComponentEvent\n\n/** @category Button */\nexport function Button(props: ButtonProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ButtonNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new ButtonLabelNode({})}>\n\t\t\t\t{props.label}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass ButtonNode extends Node<ButtonProps> {\n\tprivate customId = randomUUID()\n\n\t// this has text children, but buttons themselves shouldn't yield text\n\t// eslint-disable-next-line @typescript-eslint/class-literal-property-style\n\toverride get text() {\n\t\treturn \"\"\n\t}\n\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"button\",\n\t\t\tcustomId: this.customId,\n\t\t\tstyle: this.props.style ?? \"secondary\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(ButtonLabelNode)?.text,\n\t\t})\n\t}\n\n\toverride handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tif (\n\t\t\tinteraction.type === \"button\" &&\n\t\t\tinteraction.customId === this.customId\n\t\t) {\n\t\t\tthis.props.onClick(interaction.event)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n}\n\nclass ButtonLabelNode extends Node<Record<string, never>> {}\n","export function last<T>(array: T[]): T | undefined {\n\treturn array[array.length - 1]\n}\n","import type { EmbedOptions } from \"../core/components/embed-options\"\nimport type { SelectProps } from \"../core/components/select\"\nimport { last } from \"@reacord/helpers/last\"\nimport type { Except } from \"type-fest\"\n\nexport interface MessageOptions {\n\tcontent: string\n\tembeds: EmbedOptions[]\n\tactionRows: ActionRow[]\n}\n\nexport type ActionRow = ActionRowItem[]\n\nexport type ActionRowItem =\n\t| MessageButtonOptions\n\t| MessageLinkOptions\n\t| MessageSelectOptions\n\nexport interface MessageButtonOptions {\n\ttype: \"button\"\n\tcustomId: string\n\tlabel?: string\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\tdisabled?: boolean\n\temoji?: string\n}\n\nexport interface MessageLinkOptions {\n\ttype: \"link\"\n\turl: string\n\tlabel?: string\n\temoji?: string\n\tdisabled?: boolean\n}\n\nexport type MessageSelectOptions = Except<SelectProps, \"children\" | \"value\"> & {\n\ttype: \"select\"\n\tcustomId: string\n\toptions: MessageSelectOptionOptions[]\n}\n\nexport interface MessageSelectOptionOptions {\n\tlabel: string\n\tvalue: string\n\tdescription?: string\n\temoji?: string\n}\n\nexport interface Message {\n\tedit(options: MessageOptions): Promise<void>\n\tdelete(): Promise<void>\n\tmessageId: string\n}\n\nexport function getNextActionRow(options: MessageOptions): ActionRow {\n\tlet actionRow = last(options.actionRows)\n\tif (\n\t\tactionRow == undefined ||\n\t\tactionRow.length >= 5 ||\n\t\tactionRow[0]?.type === \"select\"\n\t) {\n\t\tactionRow = []\n\t\toptions.actionRows.push(actionRow)\n\t}\n\treturn actionRow\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('d√©j√† vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import { camelCase, isObject, snakeCase } from \"lodash-es\"\nimport type {\n\tCamelCasedPropertiesDeep,\n\tSnakeCasedPropertiesDeep,\n\tUnknownRecord,\n} from \"type-fest\"\n\nfunction convertKeyCaseDeep<Input, Output>(\n\tinput: Input,\n\tconvertKey: (key: string) => string,\n): Output {\n\tif (!isObject(input)) {\n\t\treturn input as unknown as Output\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input.map((item) =>\n\t\t\tconvertKeyCaseDeep(item, convertKey),\n\t\t) as unknown as Output\n\t}\n\n\tconst output = {} as UnknownRecord\n\tfor (const [key, value] of Object.entries(input)) {\n\t\toutput[convertKey(key)] = convertKeyCaseDeep(value, convertKey)\n\t}\n\treturn output as Output\n}\n\nexport function camelCaseDeep<T>(input: T): CamelCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, camelCase)\n}\n\nexport function snakeCaseDeep<T>(input: T): SnakeCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, snakeCase)\n}\n","export function omit<Subject extends object, Key extends PropertyKey>(\n\tsubject: Subject,\n\tkeys: Key[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(subject).filter(([key]) => !keySet.has(key)),\n\t\t// hack: conditional type preserves unions\n\t) as Subject extends unknown ? Omit<Subject, Key> : never\n}\n","import type { MessageOptions } from \"./message\"\nimport { Node } from \"./node.js\"\n\nexport class TextNode extends Node<string> {\n\toverride modifyMessageOptions(options: MessageOptions) {\n\t\toptions.content = options.content + this.props\n\t}\n\n\toverride get text() {\n\t\treturn this.props\n\t}\n}\n","import { Node } from \"../../internal/node.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\nexport abstract class EmbedChildNode<Props> extends Node<Props> {\n\tabstract modifyEmbedOptions(options: EmbedOptions): void\n}\n","import { snakeCaseDeep } from \"@reacord/helpers/convert-object-property-case\"\nimport { omit } from \"@reacord/helpers/omit\"\nimport type React from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport { TextNode } from \"../../internal/text-node\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport interface EmbedProps {\n\ttitle?: string\n\tdescription?: string\n\turl?: string\n\tcolor?: number\n\tfields?: Array<{ name: string; value: string; inline?: boolean }>\n\tauthor?: { name: string; url?: string; iconUrl?: string }\n\tthumbnail?: { url: string }\n\timage?: { url: string }\n\tvideo?: { url: string }\n\tfooter?: { text: string; iconUrl?: string }\n\ttimestamp?: string | number | Date\n\tchildren?: React.ReactNode\n}\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport function Embed(props: EmbedProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedNode extends Node<EmbedProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tconst embed: EmbedOptions = {\n\t\t\t...snakeCaseDeep(omit(this.props, [\"children\", \"timestamp\"])),\n\t\t\ttimestamp: this.props.timestamp\n\t\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t\t: undefined,\n\t\t}\n\n\t\tfor (const child of this.children) {\n\t\t\tif (child instanceof EmbedChildNode) {\n\t\t\t\tchild.modifyEmbedOptions(embed)\n\t\t\t}\n\t\t\tif (child instanceof TextNode) {\n\t\t\t\tembed.description = (embed.description ?? \"\") + child.props\n\t\t\t}\n\t\t}\n\n\t\toptions.embeds.push(embed)\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedAuthorProps {\n\tname?: ReactNode\n\tchildren?: ReactNode\n\turl?: string\n\ticonUrl?: string\n}\n\n/** @category Embed */\nexport function EmbedAuthor(props: EmbedAuthorProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedAuthorNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new AuthorTextNode({})}>\n\t\t\t\t{props.name ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedAuthorNode extends EmbedChildNode<EmbedAuthorProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.author = {\n\t\t\tname: this.children.findType(AuthorTextNode)?.text ?? \"\",\n\t\t\turl: this.props.url,\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t}\n}\n\nclass AuthorTextNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFieldProps {\n\tname: ReactNode\n\tvalue?: ReactNode\n\tinline?: boolean\n\tchildren?: ReactNode\n}\n\n/** @category Embed */\nexport function EmbedField(props: EmbedFieldProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFieldNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldNameNode({})}>\n\t\t\t\t{props.name}\n\t\t\t</ReacordElement>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldValueNode({})}>\n\t\t\t\t{props.value ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFieldNode extends EmbedChildNode<EmbedFieldProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.fields ??= []\n\t\toptions.fields.push({\n\t\t\tname: this.children.findType(FieldNameNode)?.text ?? \"\",\n\t\t\tvalue: this.children.findType(FieldValueNode)?.text ?? \"\",\n\t\t\tinline: this.props.inline,\n\t\t})\n\t}\n}\n\nclass FieldNameNode extends Node<Record<string, never>> {}\nclass FieldValueNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFooterProps {\n\ttext?: ReactNode\n\tchildren?: ReactNode\n\ticonUrl?: string\n\ttimestamp?: string | number | Date\n}\n\n/** @category Embed */\nexport function EmbedFooter({ text, children, ...props }: EmbedFooterProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFooterNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FooterTextNode({})}>\n\t\t\t\t{text ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFooterNode extends EmbedChildNode<\n\tOmit<EmbedFooterProps, \"text\" | \"children\">\n> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.footer = {\n\t\t\ttext: this.children.findType(FooterTextNode)?.text ?? \"\",\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t\toptions.timestamp = this.props.timestamp\n\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t: undefined\n\t}\n}\n\nclass FooterTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedImageProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedImage(props: EmbedImageProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedImageNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedImageNode extends EmbedChildNode<EmbedImageProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.image = { url: this.props.url }\n\t}\n}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedThumbnailProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedThumbnail(props: EmbedThumbnailProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedThumbnailNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedThumbnailNode extends EmbedChildNode<EmbedThumbnailProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.thumbnail = { url: this.props.url }\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedTitleProps {\n\tchildren: ReactNode\n\turl?: string\n}\n\n/** @category Embed */\nexport function EmbedTitle({ children, ...props }: EmbedTitleProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedTitleNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new TitleTextNode({})}>\n\t\t\t\t{children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedTitleNode extends EmbedChildNode<Omit<EmbedTitleProps, \"children\">> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.title = this.children.findType(TitleTextNode)?.text ?? \"\"\n\t\toptions.url = this.props.url\n\t}\n}\n\nclass TitleTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Link */\nexport type LinkProps = ButtonSharedProps & {\n\t/** The URL the link should lead to */\n\turl: string\n\t/** The link text */\n\tchildren?: string\n}\n\n/** @category Link */\nexport function Link({ label, children, ...props }: LinkProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new LinkNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new LinkTextNode({})}>\n\t\t\t\t{label ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass LinkNode extends Node<Omit<LinkProps, \"label\" | \"children\">> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"link\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(LinkTextNode)?.text,\n\t\t\turl: this.props.url,\n\t\t})\n\t}\n}\n\nclass LinkTextNode extends Node<Record<string, never>> {}\n","import type { MessageSelectOptionOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node\"\nimport type { OptionProps } from \"./option\"\n\nexport class OptionNode extends Node<\n\tOmit<OptionProps, \"children\" | \"label\" | \"description\">\n> {\n\tget options(): MessageSelectOptionOptions {\n\t\treturn {\n\t\t\tlabel: this.children.findType(OptionLabelNode)?.text ?? this.props.value,\n\t\t\tvalue: this.props.value,\n\t\t\tdescription: this.children.findType(OptionDescriptionNode)?.text,\n\t\t\temoji: this.props.emoji,\n\t\t}\n\t}\n}\n\nexport class OptionLabelNode extends Node<Record<string, never>> {}\nexport class OptionDescriptionNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element\"\nimport {\n\tOptionDescriptionNode,\n\tOptionLabelNode,\n\tOptionNode,\n} from \"./option-node\"\n\n/** @category Select */\nexport interface OptionProps {\n\t/** The internal value of this option */\n\tvalue: string\n\t/** The text shown to the user. This takes priority over `children` */\n\tlabel?: ReactNode\n\t/** The text shown to the user */\n\tchildren?: ReactNode\n\t/** Description for the option, shown to the user */\n\tdescription?: ReactNode\n\n\t/**\n\t * Renders an emoji to the left of the text.\n\t *\n\t * Has to be a literal emoji character (e.g. üçç), or an emoji code, like\n\t * `<:plus_one:778531744860602388>`.\n\t *\n\t * To get an emoji code, type your emoji in Discord chat with a backslash `\\`\n\t * in front. The bot has to be in the emoji's guild to use it.\n\t */\n\temoji?: string\n}\n\n/** @category Select */\nexport function Option({\n\tlabel,\n\tchildren,\n\tdescription,\n\t...props\n}: OptionProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new OptionNode(props)}>\n\t\t\t{(label !== undefined || children !== undefined) && (\n\t\t\t\t<ReacordElement props={{}} createNode={() => new OptionLabelNode({})}>\n\t\t\t\t\t{label ?? children}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t\t{description !== undefined && (\n\t\t\t\t<ReacordElement\n\t\t\t\t\tprops={{}}\n\t\t\t\t\tcreateNode={() => new OptionDescriptionNode({})}\n\t\t\t\t>\n\t\t\t\t\t{description}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t</ReacordElement>\n\t)\n}\n","/** For narrowing instance types with array.filter */\nexport const isInstanceOf =\n\t<Instance, Args extends unknown[]>(\n\t\tconstructor: new (...args: Args) => Instance,\n\t) =>\n\t(value: unknown): value is Instance =>\n\t\tvalue instanceof constructor\n","import { isInstanceOf } from \"@reacord/helpers/is-instance-of\"\nimport { randomUUID } from \"node:crypto\"\nimport type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type {\n\tActionRow,\n\tActionRowItem,\n\tMessageOptions,\n} from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport { OptionNode } from \"./option-node\"\nimport { omit } from \"@reacord/helpers/omit.js\"\n\n/** @category Select */\nexport interface SelectProps {\n\tchildren?: ReactNode\n\t/** Sets the currently selected value */\n\tvalue?: string\n\n\t/** Sets the currently selected values, for use with `multiple` */\n\tvalues?: string[]\n\n\t/** The text shown when no value is selected */\n\tplaceholder?: string\n\n\t/** Set to true to allow multiple selected values */\n\tmultiple?: boolean\n\n\t/**\n\t * With `multiple`, the minimum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tminValues?: number\n\n\t/**\n\t * With `multiple`, the maximum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tmaxValues?: number\n\n\t/**\n\t * When true, the select will be slightly faded, and cannot be interacted\n\t * with.\n\t */\n\tdisabled?: boolean\n\n\t/**\n\t * Called when the user inputs a selection. Receives the entire select change\n\t * event, which can be used to create new replies, etc.\n\t */\n\tonChange?: (event: SelectChangeEvent) => void\n\n\t/**\n\t * Convenience shorthand for `onChange`, which receives the first selected\n\t * value.\n\t */\n\tonChangeValue?: (value: string, event: SelectChangeEvent) => void\n\n\t/** Convenience shorthand for `onChange`, which receives all selected values. */\n\tonChangeMultiple?: (values: string[], event: SelectChangeEvent) => void\n}\n\n/** @category Select */\nexport type SelectChangeEvent = ComponentEvent & {\n\tvalues: string[]\n}\n\n/**\n * See [the select menu guide](/guides/select-menu) for a usage example.\n *\n * @category Select\n */\nexport function Select(props: SelectProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new SelectNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass SelectNode extends Node<SelectProps> {\n\treadonly customId = randomUUID()\n\n\toverride modifyMessageOptions(message: MessageOptions): void {\n\t\tconst actionRow: ActionRow = []\n\t\tmessage.actionRows.push(actionRow)\n\n\t\tconst options = [...this.children]\n\t\t\t.filter(isInstanceOf(OptionNode))\n\t\t\t.map((node) => node.options)\n\n\t\tconst {\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\tvalues,\n\t\t\tminValues = 0,\n\t\t\tmaxValues = 25,\n\t\t\t...props\n\t\t} = omit(this.props, [\n\t\t\t\"children\",\n\t\t\t\"onChange\",\n\t\t\t\"onChangeValue\",\n\t\t\t\"onChangeMultiple\",\n\t\t])\n\n\t\tconst item: ActionRowItem = {\n\t\t\t...props,\n\t\t\ttype: \"select\",\n\t\t\tcustomId: this.customId,\n\t\t\toptions,\n\t\t\tvalues: [],\n\t\t}\n\n\t\tif (multiple) {\n\t\t\titem.minValues = minValues\n\t\t\titem.maxValues = maxValues\n\t\t\tif (values) item.values = values\n\t\t}\n\n\t\tif (!multiple && value != undefined) {\n\t\t\titem.values = [value]\n\t\t}\n\n\t\tactionRow.push(item)\n\t}\n\n\toverride handleComponentInteraction(\n\t\tinteraction: ComponentInteraction,\n\t): boolean {\n\t\tconst isSelectInteraction =\n\t\t\tinteraction.type === \"select\" &&\n\t\t\tinteraction.customId === this.customId &&\n\t\t\t!this.props.disabled\n\n\t\tif (!isSelectInteraction) return false\n\n\t\tthis.props.onChange?.(interaction.event)\n\t\tthis.props.onChangeMultiple?.(interaction.event.values, interaction.event)\n\t\tif (interaction.event.values[0]) {\n\t\t\tthis.props.onChangeValue?.(interaction.event.values[0], interaction.event)\n\t\t}\n\t\treturn true\n\t}\n}\n","export function toError(value: unknown) {\n\treturn value instanceof Error ? value : new Error(String(value))\n}\n","import { toError } from \"./to-error.js\"\n\nexport function raise(error: unknown): never {\n\tthrow toError(error)\n}\n","import type { ReacordInstance } from \"./instance.js\"\nimport { raise } from \"@reacord/helpers/raise.js\"\nimport * as React from \"react\"\n\nconst Context = React.createContext<ReacordInstance | undefined>(undefined)\n\nexport const InstanceProvider = Context.Provider\n\n/**\n * Get the associated instance for the current component.\n *\n * @category Core\n * @see https://reacord.mapleleaf.dev/guides/use-instance\n */\nexport function useInstance(): ReacordInstance {\n\treturn (\n\t\tReact.useContext(Context) ??\n\t\traise(\"Could not find instance, was this component rendered via Reacord?\")\n\t)\n}\n","import { raise } from \"@reacord/helpers/raise.js\"\nimport type { HostConfig } from \"react-reconciler\"\nimport ReactReconciler from \"react-reconciler\"\nimport { DefaultEventPriority } from \"react-reconciler/constants.js\"\nimport { Node } from \"./node.js\"\nimport type { Renderer } from \"./renderers/renderer\"\nimport { TextNode } from \"./text-node.js\"\n\nconst config: HostConfig<\n\tstring, // Type,\n\tRecord<string, unknown>, // Props,\n\tRenderer, // Container,\n\tNode<unknown>, // Instance,\n\tTextNode, // TextInstance,\n\tnever, // SuspenseInstance,\n\tnever, // HydratableInstance,\n\tnever, // PublicInstance,\n\tnever, // HostContext,\n\ttrue, // UpdatePayload,\n\tnever, // ChildSet,\n\tnumber, // TimeoutHandle,\n\tnumber // NoTimeout,\n> = {\n\tsupportsMutation: true,\n\tsupportsPersistence: false,\n\tsupportsHydration: false,\n\tisPrimaryRenderer: true,\n\tscheduleTimeout: global.setTimeout,\n\tcancelTimeout: global.clearTimeout,\n\tnoTimeout: -1,\n\n\tgetRootHostContext: () => null,\n\tgetChildHostContext: (parentContext) => parentContext,\n\n\tcreateInstance: (type, props) => {\n\t\tif (type !== \"reacord-element\") {\n\t\t\traise(`Unknown element type: ${type}`)\n\t\t}\n\n\t\tif (typeof props.createNode !== \"function\") {\n\t\t\traise(`Missing createNode function`)\n\t\t}\n\n\t\tconst node: unknown = props.createNode(props.props)\n\t\tif (!(node instanceof Node)) {\n\t\t\traise(`createNode function did not return a Node`)\n\t\t}\n\n\t\treturn node\n\t},\n\tcreateTextInstance: (text) => new TextNode(text),\n\tshouldSetTextContent: () => false,\n\tdetachDeletedInstance: (_instance) => {},\n\tbeforeActiveInstanceBlur: () => {},\n\tafterActiveInstanceBlur: () => {},\n\tgetInstanceFromNode: (_node: unknown) => null,\n\tgetInstanceFromScope: (_scopeInstance: unknown) => null,\n\n\tclearContainer: (renderer) => {\n\t\trenderer.nodes.clear()\n\t},\n\tappendChildToContainer: (renderer, child) => {\n\t\trenderer.nodes.add(child)\n\t},\n\tremoveChildFromContainer: (renderer, child) => {\n\t\trenderer.nodes.remove(child)\n\t},\n\tinsertInContainerBefore: (renderer, child, before) => {\n\t\trenderer.nodes.addBefore(child, before)\n\t},\n\n\tappendInitialChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tappendChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tremoveChild: (parent, child) => {\n\t\tparent.children.remove(child)\n\t},\n\tinsertBefore: (parent, child, before) => {\n\t\tparent.children.addBefore(child, before)\n\t},\n\n\tprepareUpdate: () => true,\n\tcommitUpdate: (node, payload, type, oldProps, newProps) => {\n\t\tnode.props = newProps.props\n\t},\n\tcommitTextUpdate: (node, oldText, newText) => {\n\t\tnode.props = newText\n\t},\n\n\tprepareForCommit: () => null,\n\tresetAfterCommit: (renderer) => {\n\t\trenderer.render()\n\t},\n\tprepareScopeUpdate: (_scopeInstance: unknown, _instance: unknown) => {},\n\n\tpreparePortalMount: () => raise(\"Portals are not supported\"),\n\tgetPublicInstance: () => raise(\"Refs are currently not supported\"),\n\n\tfinalizeInitialChildren: () => false,\n\n\tgetCurrentEventPriority: () => DefaultEventPriority,\n}\n\nexport const reconciler = ReactReconciler(config)\n","import type { ReactNode } from \"react\"\nimport type { ComponentInteraction } from \"../internal/interaction.js\"\nimport { reconciler } from \"../internal/reconciler.js\"\nimport type { Renderer } from \"../internal/renderers/renderer.js\"\nimport { InstanceProvider } from \"./instance-context.js\"\nimport type { ReacordInstance } from \"./instance.js\"\n\n/** @category Core */\nexport interface ReacordConfig {\n\t/**\n\t * The max number of active instances. When this limit is exceeded, the oldest\n\t * instances will be disabled.\n\t */\n\tmaxInstances?: number\n}\n\n/**\n * The main Reacord class that other Reacord adapters should extend. Only use\n * this directly if you're making [a custom adapter](/guides/custom-adapters).\n */\nexport abstract class Reacord {\n\tprivate renderers: Renderer[] = []\n\n\tconstructor(private readonly config: ReacordConfig = {}) {}\n\n\tprotected handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const renderer of this.renderers) {\n\t\t\tif (renderer.handleComponentInteraction(interaction)) return\n\t\t}\n\t}\n\n\tprivate get maxInstances() {\n\t\treturn this.config.maxInstances ?? 50\n\t}\n\n\tprotected createInstance(renderer: Renderer, initialContent?: ReactNode) {\n\t\tif (this.renderers.length > this.maxInstances && this.renderers[0]) {\n\t\t\tthis.deactivate(this.renderers[0])\n\t\t}\n\n\t\tthis.renderers.push(renderer)\n\n\t\tconst container: unknown = reconciler.createContainer(\n\t\t\trenderer,\n\t\t\t0,\n\t\t\tnull,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\t\"reacord\",\n\t\t\t() => {},\n\t\t\tnull,\n\t\t)\n\n\t\tconst instance: ReacordInstance = {\n\t\t\trender: (content: ReactNode) => {\n\t\t\t\treconciler.updateContainer(\n\t\t\t\t\t<InstanceProvider value={instance}>{content}</InstanceProvider>,\n\t\t\t\t\tcontainer,\n\t\t\t\t)\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdeactivate: () => {\n\t\t\t\tthis.deactivate(renderer)\n\t\t\t},\n\t\t\tdestroy: () => {\n\t\t\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\t\t\trenderer.destroy()\n\t\t\t},\n\t\t}\n\n\t\tif (initialContent !== undefined) {\n\t\t\tinstance.render(initialContent)\n\t\t}\n\n\t\treturn instance\n\t}\n\n\tprivate deactivate(renderer: Renderer) {\n\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\trenderer.deactivate()\n\t}\n}\n","export function safeJsonStringify(value: unknown): string {\n\ttry {\n\t\treturn JSON.stringify(value)\n\t} catch {\n\t\treturn String(value)\n\t}\n}\n","import type { LoosePick } from \"./types\"\n\nexport function pick<T extends object, K extends keyof T | PropertyKey>(\n\tobject: T,\n\tkeys: K[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(object).filter(([key]) => keySet.has(key)),\n\t) as LoosePick<T, K>\n}\n","export function isObject(value: unknown): value is object {\n\treturn typeof value === \"object\" && value !== null\n}\n","import { isObject } from \"./is-object\"\n\nexport function pruneNullishValues<T>(input: T): PruneNullishValues<T> {\n\tif (!isObject(input)) {\n\t\treturn input as PruneNullishValues<T>\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input\n\t\t\t.filter(Boolean)\n\t\t\t.map(\n\t\t\t\t(item) => pruneNullishValues(item) as unknown,\n\t\t\t) as PruneNullishValues<T>\n\t}\n\n\tconst result: Record<string, unknown> = {}\n\tfor (const [key, value] of Object.entries(input)) {\n\t\tif (value != undefined) {\n\t\t\tresult[key] = pruneNullishValues(value)\n\t\t}\n\t}\n\treturn result as PruneNullishValues<T>\n}\n\nexport type PruneNullishValues<Input> = Input extends object\n\t? OptionalKeys<\n\t\t\t{ [Key in keyof Input]: NonNullable<PruneNullishValues<Input[Key]>> },\n\t\t\tKeysWithNullishValues<Input>\n\t  >\n\t: Input\n\ntype OptionalKeys<Input, Keys extends keyof Input> = Omit<Input, Keys> & {\n\t[Key in Keys]?: Input[Key]\n}\n\ntype KeysWithNullishValues<Input> = NonNullable<\n\tValues<{\n\t\t[Key in keyof Input]: null extends Input[Key]\n\t\t\t? Key\n\t\t\t: undefined extends Input[Key]\n\t\t\t? Key\n\t\t\t: never\n\t}>\n>\n\ntype Values<Input> = Input[keyof Input]\n","import { safeJsonStringify } from \"@reacord/helpers/json\"\nimport { pick } from \"@reacord/helpers/pick\"\nimport { pruneNullishValues } from \"@reacord/helpers/prune-nullish-values\"\nimport { raise } from \"@reacord/helpers/raise\"\nimport * as Discord from \"discord.js\"\nimport type { ReactNode } from \"react\"\nimport type { Except } from \"type-fest\"\nimport type { ComponentInteraction } from \"../internal/interaction\"\nimport type {\n\tMessage,\n\tMessageButtonOptions,\n\tMessageOptions,\n} from \"../internal/message\"\nimport { ChannelMessageRenderer } from \"../internal/renderers/channel-message-renderer\"\nimport { InteractionReplyRenderer } from \"../internal/renderers/interaction-reply-renderer\"\nimport type {\n\tComponentEventChannel,\n\tComponentEventGuild,\n\tComponentEventGuildMember,\n\tComponentEventMessage,\n\tComponentEventReplyOptions,\n\tComponentEventUser,\n} from \"./component-event\"\nimport type { ReacordInstance } from \"./instance\"\nimport type { ReacordConfig } from \"./reacord\"\nimport { Reacord } from \"./reacord\"\n\nexport type ReacordDiscordJsSettings = {\n\t/** A event that is dispatched when a message is sent */\n\tonMessage?: (message: Discord.Message) => void\n}\n\n/**\n * The Reacord adapter for Discord.js.\n *\n * @category Core\n */\nexport class ReacordDiscordJs extends Reacord {\n\tconstructor(\n\t\tprivate client: Discord.Client,\n\t\tconfig: ReacordConfig = {},\n\t) {\n\t\tsuper(config)\n\n\t\tclient.on(\"interactionCreate\", (interaction) => {\n\t\t\tif (interaction.isButton() || interaction.isStringSelectMenu()) {\n\t\t\t\tthis.handleComponentInteraction(\n\t\t\t\t\tthis.createReacordComponentInteraction(interaction),\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @param target Discord channel object.\n\t * @param [options] Options for the channel message\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.MessageCreateOptions}\n\t */\n\tpublic createChannelMessage(\n\t\ttarget: Discord.ChannelResolvable,\n\t\toptions: Discord.MessageCreateOptions & ReacordDiscordJsSettings = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(target, options),\n\t\t)\n\t}\n\n\t/**\n\t * Replies to a command interaction by sending a message.\n\t *\n\t * @param interaction Discord command interaction object.\n\t * @param [options] Custom options for the interaction reply method.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.InteractionReplyOptions}\n\t */\n\tpublic createInteractionReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\toptions: Discord.InteractionReplyOptions & ReacordDiscordJsSettings = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, options),\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @deprecated Use reacord.createChannelMessage() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic send(\n\t\tchannel: Discord.ChannelResolvable,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(channel, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic reply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends an ephemeral message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply(interaction, { ephemeral:\n\t *   true })\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic ephemeralReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\tephemeral: true,\n\t\t\t}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\tprivate createChannelMessageRenderer(\n\t\tchannelResolvable: Discord.ChannelResolvable,\n\t\tmessageCreateOptions?: Discord.MessageCreateOptions & ReacordDiscordJsSettings,\n\t) {\n\t\treturn new ChannelMessageRenderer({\n\t\t\tsend: async (messageOptions) => {\n\t\t\t\tlet channel = this.client.channels.resolve(channelResolvable)\n\t\t\t\tif (!channel && typeof channelResolvable === \"string\") {\n\t\t\t\t\tchannel = await this.client.channels.fetch(channelResolvable)\n\t\t\t\t}\n\n\t\t\t\tif (!channel) {\n\t\t\t\t\tconst id =\n\t\t\t\t\t\ttypeof channelResolvable === \"string\"\n\t\t\t\t\t\t\t? channelResolvable\n\t\t\t\t\t\t\t: channelResolvable.id\n\t\t\t\t\traise(`Channel ${id} not found`)\n\t\t\t\t}\n\n\t\t\t\tif (!channel.isTextBased()) {\n\t\t\t\t\traise(`Channel ${channel.id} must be a text channel`)\n\t\t\t\t}\n\n\t\t\t\tconst message = await channel.send({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...messageCreateOptions,\n\t\t\t\t})\n\t\t\t\tif (messageCreateOptions?.onMessage) {\n\t\t\t\t\tmessageCreateOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createInteractionReplyRenderer(\n\t\tinteraction:\n\t\t\t| Discord.CommandInteraction\n\t\t\t| Discord.MessageComponentInteraction,\n\t\tinteractionReplyOptions: Discord.InteractionReplyOptions & ReacordDiscordJsSettings,\n\t) {\n\t\treturn new InteractionReplyRenderer({\n\t\t\tinteractionId: interaction.id,\n\t\t\treply: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\tif (interactionReplyOptions.onMessage) {\n\t\t\t\t\tinteractionReplyOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\tif (interactionReplyOptions.onMessage) {\n\t\t\t\t\tinteractionReplyOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createReacordComponentInteraction(\n\t\tinteraction: Discord.MessageComponentInteraction,\n\t): ComponentInteraction {\n\t\t// todo please dear god clean this up\n\t\tconst channel: ComponentEventChannel = interaction.channel\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\tpick(interaction.channel, [\n\t\t\t\t\t\t\t\"topic\",\n\t\t\t\t\t\t\t\"nsfw\",\n\t\t\t\t\t\t\t\"lastMessageId\",\n\t\t\t\t\t\t\t\"ownerId\",\n\t\t\t\t\t\t\t\"parentId\",\n\t\t\t\t\t\t\t\"rateLimitPerUser\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t),\n\t\t\t\t\tid: interaction.channelId,\n\t\t\t  }\n\t\t\t: raise(\"Non-channel interactions are not supported\")\n\n\t\tconst message: ComponentEventMessage =\n\t\t\tinteraction.message instanceof Discord.Message\n\t\t\t\t? {\n\t\t\t\t\t\t...pick(interaction.message, [\n\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\"channelId\",\n\t\t\t\t\t\t\t\"authorId\",\n\t\t\t\t\t\t\t\"content\",\n\t\t\t\t\t\t\t\"tts\",\n\t\t\t\t\t\t\t\"mentionEveryone\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t\ttimestamp: new Date(\n\t\t\t\t\t\t\tinteraction.message.createdTimestamp,\n\t\t\t\t\t\t).toISOString(),\n\t\t\t\t\t\teditedTimestamp: interaction.message.editedTimestamp\n\t\t\t\t\t\t\t? new Date(interaction.message.editedTimestamp).toISOString()\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tmentions: interaction.message.mentions.users.map((u) => u.id),\n\t\t\t\t\t\tauthorId: interaction.message.author.id,\n\t\t\t\t\t\tmentionEveryone: interaction.message.mentions.everyone,\n\t\t\t\t  }\n\t\t\t\t: raise(\"Message not found\")\n\n\t\tconst member: ComponentEventGuildMember | undefined =\n\t\t\tinteraction.member instanceof Discord.GuildMember\n\t\t\t\t? {\n\t\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\t\tpick(interaction.member, [\n\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\"nick\",\n\t\t\t\t\t\t\t\t\"displayName\",\n\t\t\t\t\t\t\t\t\"avatarUrl\",\n\t\t\t\t\t\t\t\t\"displayAvatarUrl\",\n\t\t\t\t\t\t\t\t\"color\",\n\t\t\t\t\t\t\t\t\"pending\",\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName: interaction.member.displayName,\n\t\t\t\t\t\troles: interaction.member.roles.cache.map((role) => role.id),\n\t\t\t\t\t\tjoinedAt: interaction.member.joinedAt?.toISOString(),\n\t\t\t\t\t\tpremiumSince: interaction.member.premiumSince?.toISOString(),\n\t\t\t\t\t\tcommunicationDisabledUntil:\n\t\t\t\t\t\t\tinteraction.member.communicationDisabledUntil?.toISOString(),\n\t\t\t\t\t\tcolor: interaction.member.displayColor,\n\t\t\t\t\t\tdisplayAvatarUrl: interaction.member.displayAvatarURL(),\n\t\t\t\t  }\n\t\t\t\t: undefined\n\n\t\tconst guild: ComponentEventGuild | undefined = interaction.guild\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(pick(interaction.guild, [\"id\", \"name\"])),\n\t\t\t\t\tmember: member ?? raise(\"unexpected: member is undefined\"),\n\t\t\t  }\n\t\t\t: undefined\n\n\t\tconst user: ComponentEventUser = {\n\t\t\t...pruneNullishValues(\n\t\t\t\tpick(interaction.user, [\"id\", \"username\", \"discriminator\", \"tag\"]),\n\t\t\t),\n\t\t\tavatarUrl: interaction.user.avatarURL(),\n\t\t\taccentColor: interaction.user.accentColor ?? undefined,\n\t\t}\n\n\t\tconst baseProps: Except<ComponentInteraction, \"type\"> = {\n\t\t\tid: interaction.id,\n\t\t\tcustomId: interaction.customId,\n\t\t\tupdate: async (options: MessageOptions) => {\n\t\t\t\tif (interaction.deferred || interaction.replied) {\n\t\t\t\t\tawait interaction.message.edit(getDiscordMessageOptions(options))\n\t\t\t\t} else {\n\t\t\t\t\tawait interaction.update(getDiscordMessageOptions(options))\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferUpdate: async () => {\n\t\t\t\tif (interaction.replied || interaction.deferred) return\n\t\t\t\tawait interaction.deferUpdate()\n\t\t\t},\n\t\t\treply: async (options) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (options) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tevent: {\n\t\t\t\tchannel,\n\t\t\t\tmessage,\n\t\t\t\tuser,\n\t\t\t\tguild,\n\n\t\t\t\treply: (content?: ReactNode, options?: ComponentEventReplyOptions) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, options ?? {}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\n\t\t\t\t/** @deprecated Use event.reply(content, { ephemeral: true }) */\n\t\t\t\tephemeralReply: (content: ReactNode) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\t\t\t\tephemeral: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\t\t\t},\n\t\t}\n\n\t\tif (interaction.isButton()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"button\",\n\t\t\t}\n\t\t}\n\n\t\tif (interaction.isStringSelectMenu()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"select\",\n\t\t\t\tevent: {\n\t\t\t\t\t...baseProps.event,\n\t\t\t\t\tvalues: interaction.values,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\traise(`Unsupported component interaction type: ${interaction.type}`)\n\t}\n}\n\nfunction createReacordMessage(message: Discord.Message): Message {\n\treturn {\n\t\tedit: async (options) => {\n\t\t\tawait message.edit(getDiscordMessageOptions(options))\n\t\t},\n\t\tdelete: async () => {\n\t\t\tawait message.delete()\n\t\t},\n\t\tmessageId: message.id,\n\t}\n}\n\nfunction convertButtonStyleToEnum(style: MessageButtonOptions[\"style\"]) {\n\tconst styleMap = {\n\t\tprimary: Discord.ButtonStyle.Primary,\n\t\tsecondary: Discord.ButtonStyle.Secondary,\n\t\tsuccess: Discord.ButtonStyle.Success,\n\t\tdanger: Discord.ButtonStyle.Danger,\n\t} as const\n\n\treturn styleMap[style ?? \"secondary\"]\n}\n\n// TODO: this could be a part of the core library,\n// and also handle some edge cases, e.g. empty messages\nfunction getDiscordMessageOptions(reacordOptions: MessageOptions) {\n\tconst options = {\n\t\tcontent: reacordOptions.content || undefined,\n\t\tembeds: reacordOptions.embeds,\n\t\tcomponents: reacordOptions.actionRows.map((row) => ({\n\t\t\ttype: Discord.ComponentType.ActionRow,\n\t\t\tcomponents: row.map(\n\t\t\t\t(component): Discord.MessageActionRowComponentData => {\n\t\t\t\t\tif (component.type === \"button\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\tcustomId: component.customId,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: convertButtonStyleToEnum(component.style),\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component.type === \"link\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\turl: component.url,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: Discord.ButtonStyle.Link,\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// future proofing\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tif (component.type === \"select\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...component,\n\t\t\t\t\t\t\ttype: Discord.ComponentType.SelectMenu,\n\t\t\t\t\t\t\toptions: component.options.map((option) => ({\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\tdefault: component.values?.includes(option.value),\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponent satisfies never\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Invalid component type ${safeJsonStringify(component)}}`,\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t),\n\t\t})),\n\t}\n\n\tif (!options.content && !options.embeds.length) {\n\t\toptions.content = \"_ _\"\n\t}\n\n\treturn options\n}\n","import { Container } from \"../container.js\"\nimport type { ComponentInteraction } from \"../interaction\"\nimport type { Message, MessageOptions } from \"../message\"\nimport type { Node } from \"../node.js\"\nimport { Subject } from \"rxjs\"\nimport { concatMap } from \"rxjs/operators\"\n\ntype UpdatePayload =\n\t| { action: \"update\" | \"deactivate\"; options: MessageOptions }\n\t| { action: \"deferUpdate\"; interaction: ComponentInteraction }\n\t| { action: \"destroy\" }\n\nexport abstract class Renderer {\n\treadonly nodes = new Container<Node<unknown>>()\n\tprivate componentInteraction?: ComponentInteraction\n\tprivate message?: Message\n\tprivate active = true\n\tprivate updates = new Subject<UpdatePayload>()\n\n\tprivate updateSubscription = this.updates\n\t\t.pipe(concatMap((payload) => this.updateMessage(payload)))\n\t\t.subscribe({ error: console.error })\n\n\trender() {\n\t\tif (!this.active) {\n\t\t\tconsole.warn(\"Attempted to update a deactivated message\")\n\t\t\treturn\n\t\t}\n\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"update\",\n\t\t})\n\t}\n\n\tdeactivate() {\n\t\tthis.active = false\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"deactivate\",\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis.active = false\n\t\tthis.updates.next({ action: \"destroy\" })\n\t}\n\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const node of this.nodes) {\n\t\t\tif (node.handleComponentInteraction(interaction)) {\n\t\t\t\tthis.componentInteraction = interaction\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.updates.next({ action: \"deferUpdate\", interaction })\n\t\t\t\t}, 500)\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract createMessage(options: MessageOptions): Promise<Message>\n\n\tprivate getMessageOptions(): MessageOptions {\n\t\tconst options: MessageOptions = {\n\t\t\tcontent: \"\",\n\t\t\tembeds: [],\n\t\t\tactionRows: [],\n\t\t}\n\t\tfor (const node of this.nodes) {\n\t\t\tnode.modifyMessageOptions(options)\n\t\t}\n\t\treturn options\n\t}\n\n\tprivate async updateMessage(payload: UpdatePayload) {\n\t\tif (payload.action === \"destroy\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\t\t\tawait this.message?.delete()\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deactivate\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\n\t\t\tawait this.message?.edit({\n\t\t\t\t...payload.options,\n\t\t\t\tactionRows: payload.options.actionRows.map((row) =>\n\t\t\t\t\trow.map((component) => ({\n\t\t\t\t\t\t...component,\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t})),\n\t\t\t\t),\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deferUpdate\") {\n\t\t\tawait payload.interaction.deferUpdate()\n\t\t\treturn\n\t\t}\n\n\t\tif (this.componentInteraction) {\n\t\t\tconst promise = this.componentInteraction.update(payload.options)\n\t\t\tthis.componentInteraction = undefined\n\t\t\tawait promise\n\t\t\treturn\n\t\t}\n\n\t\tif (this.message) {\n\t\t\tawait this.message.edit(payload.options)\n\t\t\treturn\n\t\t}\n\n\t\tthis.message = await this.createMessage(payload.options)\n\t}\n}\n","import type { Channel } from \"../channel\"\nimport type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\nexport class ChannelMessageRenderer extends Renderer {\n\tconstructor(private channel: Channel) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\treturn this.channel.send(options)\n\t}\n}\n","import type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\n// keep track of interaction ids which have replies,\n// so we know whether to call reply() or followUp()\nconst repliedInteractionIds = new Set<string>()\n\nexport type InteractionReplyRendererImplementation = {\n\tinteractionId: string\n\treply: (options: MessageOptions) => Promise<Message>\n\tfollowUp: (options: MessageOptions) => Promise<Message>\n}\n\nexport class InteractionReplyRenderer extends Renderer {\n\tconstructor(private implementation: InteractionReplyRendererImplementation) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\tif (repliedInteractionIds.has(this.implementation.interactionId)) {\n\t\t\treturn this.implementation.followUp(options)\n\t\t}\n\n\t\trepliedInteractionIds.add(this.implementation.interactionId)\n\t\treturn this.implementation.reply(options)\n\t}\n}\n"],"mappings":"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AAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAC1B,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,E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","names":["React","import_jsx_runtime","Symbol","objectProto","nativeObjectToString","symToStringTag","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsCombo","rsApos","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_node_crypto","import_jsx_runtime","React","ReactReconciler","import_jsx_runtime","config","isObject","isObject","config","message"]}
\ No newline at end of file
diff --git a/node_modules/reacord/dist/main.d.cts b/node_modules/reacord/dist/main.d.cts
index 8c0fe45..449a623 100644
--- a/node_modules/reacord/dist/main.d.cts
+++ b/node_modules/reacord/dist/main.d.cts
@@ -764,6 +764,7 @@ interface MessageSelectOptionOptions {
 interface Message {
     edit(options: MessageOptions): Promise<void>;
     delete(): Promise<void>;
+    messageId: string;
 }
 
 type ComponentInteraction = ButtonInteraction | SelectInteraction;
@@ -840,6 +841,10 @@ declare abstract class Reacord {
     private deactivate;
 }
 
+type ReacordDiscordJsSettings = {
+    /** A event that is dispatched when a message is sent */
+    onMessage?: (message: Discord.Message) => void;
+};
 /**
  * The Reacord adapter for Discord.js.
  *
@@ -856,7 +861,7 @@ declare class ReacordDiscordJs extends Reacord {
      * @see https://reacord.mapleleaf.dev/guides/sending-messages
      * @see {@link Discord.MessageCreateOptions}
      */
-    createChannelMessage(target: Discord.ChannelResolvable, options?: Discord.MessageCreateOptions): ReacordInstance;
+    createChannelMessage(target: Discord.ChannelResolvable, options?: Discord.MessageCreateOptions & ReacordDiscordJsSettings): ReacordInstance;
     /**
      * Replies to a command interaction by sending a message.
      *
@@ -865,7 +870,7 @@ declare class ReacordDiscordJs extends Reacord {
      * @see https://reacord.mapleleaf.dev/guides/sending-messages
      * @see {@link Discord.InteractionReplyOptions}
      */
-    createInteractionReply(interaction: Discord.CommandInteraction, options?: Discord.InteractionReplyOptions): ReacordInstance;
+    createInteractionReply(interaction: Discord.CommandInteraction, options?: Discord.InteractionReplyOptions & ReacordDiscordJsSettings): ReacordInstance;
     /**
      * Sends a message to a channel.
      *
@@ -893,4 +898,4 @@ declare class ReacordDiscordJs extends Reacord {
     private createReacordComponentInteraction;
 }
 
-export { ActionRow$1 as ActionRow, ActionRowProps, Button, ButtonClickEvent, ButtonProps, ButtonSharedProps, ComponentEvent, ComponentEventChannel, ComponentEventGuild, ComponentEventGuildMember, ComponentEventMessage, ComponentEventReplyOptions, ComponentEventUser, Embed, EmbedAuthor, EmbedAuthorProps, EmbedField, EmbedFieldProps, EmbedFooter, EmbedFooterProps, EmbedImage, EmbedImageProps, EmbedProps, EmbedThumbnail, EmbedThumbnailProps, EmbedTitle, EmbedTitleProps, Link, LinkProps, Option, OptionProps, Reacord, ReacordConfig, ReacordDiscordJs, ReacordInstance, Select, SelectChangeEvent, SelectProps, useInstance };
+export { ActionRow$1 as ActionRow, ActionRowProps, Button, ButtonClickEvent, ButtonProps, ButtonSharedProps, ComponentEvent, ComponentEventChannel, ComponentEventGuild, ComponentEventGuildMember, ComponentEventMessage, ComponentEventReplyOptions, ComponentEventUser, Embed, EmbedAuthor, EmbedAuthorProps, EmbedField, EmbedFieldProps, EmbedFooter, EmbedFooterProps, EmbedImage, EmbedImageProps, EmbedProps, EmbedThumbnail, EmbedThumbnailProps, EmbedTitle, EmbedTitleProps, Link, LinkProps, Option, OptionProps, Reacord, ReacordConfig, ReacordDiscordJs, ReacordDiscordJsSettings, ReacordInstance, Select, SelectChangeEvent, SelectProps, useInstance };
diff --git a/node_modules/reacord/dist/main.d.ts b/node_modules/reacord/dist/main.d.ts
index 8c0fe45..449a623 100644
--- a/node_modules/reacord/dist/main.d.ts
+++ b/node_modules/reacord/dist/main.d.ts
@@ -764,6 +764,7 @@ interface MessageSelectOptionOptions {
 interface Message {
     edit(options: MessageOptions): Promise<void>;
     delete(): Promise<void>;
+    messageId: string;
 }
 
 type ComponentInteraction = ButtonInteraction | SelectInteraction;
@@ -840,6 +841,10 @@ declare abstract class Reacord {
     private deactivate;
 }
 
+type ReacordDiscordJsSettings = {
+    /** A event that is dispatched when a message is sent */
+    onMessage?: (message: Discord.Message) => void;
+};
 /**
  * The Reacord adapter for Discord.js.
  *
@@ -856,7 +861,7 @@ declare class ReacordDiscordJs extends Reacord {
      * @see https://reacord.mapleleaf.dev/guides/sending-messages
      * @see {@link Discord.MessageCreateOptions}
      */
-    createChannelMessage(target: Discord.ChannelResolvable, options?: Discord.MessageCreateOptions): ReacordInstance;
+    createChannelMessage(target: Discord.ChannelResolvable, options?: Discord.MessageCreateOptions & ReacordDiscordJsSettings): ReacordInstance;
     /**
      * Replies to a command interaction by sending a message.
      *
@@ -865,7 +870,7 @@ declare class ReacordDiscordJs extends Reacord {
      * @see https://reacord.mapleleaf.dev/guides/sending-messages
      * @see {@link Discord.InteractionReplyOptions}
      */
-    createInteractionReply(interaction: Discord.CommandInteraction, options?: Discord.InteractionReplyOptions): ReacordInstance;
+    createInteractionReply(interaction: Discord.CommandInteraction, options?: Discord.InteractionReplyOptions & ReacordDiscordJsSettings): ReacordInstance;
     /**
      * Sends a message to a channel.
      *
@@ -893,4 +898,4 @@ declare class ReacordDiscordJs extends Reacord {
     private createReacordComponentInteraction;
 }
 
-export { ActionRow$1 as ActionRow, ActionRowProps, Button, ButtonClickEvent, ButtonProps, ButtonSharedProps, ComponentEvent, ComponentEventChannel, ComponentEventGuild, ComponentEventGuildMember, ComponentEventMessage, ComponentEventReplyOptions, ComponentEventUser, Embed, EmbedAuthor, EmbedAuthorProps, EmbedField, EmbedFieldProps, EmbedFooter, EmbedFooterProps, EmbedImage, EmbedImageProps, EmbedProps, EmbedThumbnail, EmbedThumbnailProps, EmbedTitle, EmbedTitleProps, Link, LinkProps, Option, OptionProps, Reacord, ReacordConfig, ReacordDiscordJs, ReacordInstance, Select, SelectChangeEvent, SelectProps, useInstance };
+export { ActionRow$1 as ActionRow, ActionRowProps, Button, ButtonClickEvent, ButtonProps, ButtonSharedProps, ComponentEvent, ComponentEventChannel, ComponentEventGuild, ComponentEventGuildMember, ComponentEventMessage, ComponentEventReplyOptions, ComponentEventUser, Embed, EmbedAuthor, EmbedAuthorProps, EmbedField, EmbedFieldProps, EmbedFooter, EmbedFooterProps, EmbedImage, EmbedImageProps, EmbedProps, EmbedThumbnail, EmbedThumbnailProps, EmbedTitle, EmbedTitleProps, Link, LinkProps, Option, OptionProps, Reacord, ReacordConfig, ReacordDiscordJs, ReacordDiscordJsSettings, ReacordInstance, Select, SelectChangeEvent, SelectProps, useInstance };
diff --git a/node_modules/reacord/dist/main.js b/node_modules/reacord/dist/main.js
index 8b26a63..0fc9a17 100644
--- a/node_modules/reacord/dist/main.js
+++ b/node_modules/reacord/dist/main.js
@@ -1271,6 +1271,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...getDiscordMessageOptions(messageOptions),
           ...messageCreateOptions
         });
+        if (messageCreateOptions?.onMessage) {
+          messageCreateOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       }
     });
@@ -1284,6 +1287,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...interactionReplyOptions,
           fetchReply: true
         });
+        if (interactionReplyOptions.onMessage) {
+          interactionReplyOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       },
       followUp: async (messageOptions) => {
@@ -1292,6 +1298,9 @@ var ReacordDiscordJs = class extends Reacord {
           ...interactionReplyOptions,
           fetchReply: true
         });
+        if (interactionReplyOptions.onMessage) {
+          interactionReplyOptions.onMessage(message);
+        }
         return createReacordMessage(message);
       }
     });
@@ -1431,7 +1440,8 @@ function createReacordMessage(message) {
     },
     delete: async () => {
       await message.delete();
-    }
+    },
+    messageId: message.id
   };
 }
 function convertButtonStyleToEnum(style) {
diff --git a/node_modules/reacord/dist/main.js.map b/node_modules/reacord/dist/main.js.map
index a53836f..25977a2 100644
--- a/node_modules/reacord/dist/main.js.map
+++ b/node_modules/reacord/dist/main.js.map
@@ -1 +1 @@
-{"version":3,"sources":["../library/internal/element.ts","../library/internal/container.ts","../library/internal/node.ts","../library/core/components/action-row.tsx","../library/core/components/button.tsx","../../helpers/last.ts","../library/internal/message.ts","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayMap.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayReduce.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyOf.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_deburrLetter.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/deburr.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_asciiWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasUnicodeWord.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_unicodeWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/words.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createCompounder.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/snakeCase.js","../../helpers/convert-object-property-case.ts","../../helpers/omit.ts","../library/internal/text-node.ts","../library/core/components/embed-child.ts","../library/core/components/embed.tsx","../library/core/components/embed-author.tsx","../library/core/components/embed-field.tsx","../library/core/components/embed-footer.tsx","../library/core/components/embed-image.tsx","../library/core/components/embed-thumbnail.tsx","../library/core/components/embed-title.tsx","../library/core/components/link.tsx","../library/core/components/option-node.ts","../library/core/components/option.tsx","../../helpers/is-instance-of.ts","../library/core/components/select.tsx","../../helpers/to-error.ts","../../helpers/raise.ts","../library/core/instance-context.tsx","../library/internal/reconciler.ts","../library/core/reacord.tsx","../../helpers/json.ts","../../helpers/pick.ts","../../helpers/is-object.ts","../../helpers/prune-nullish-values.ts","../library/core/reacord-discord-js.ts","../library/internal/renderers/renderer.ts","../library/internal/renderers/channel-message-renderer.ts","../library/internal/renderers/interaction-reply-renderer.ts"],"sourcesContent":["import type { Node } from \"./node\"\nimport type { ReactNode } from \"react\"\nimport React from \"react\"\n\nexport function ReacordElement<Props>(props: {\n\tprops: Props\n\tcreateNode: () => Node<Props>\n\tchildren?: ReactNode\n}) {\n\treturn React.createElement(\"reacord-element\", props)\n}\n","export class Container<T> {\n\tprivate items: T[] = []\n\n\tadd(...items: T[]) {\n\t\tthis.items.push(...items)\n\t}\n\n\taddBefore(item: T, before: T) {\n\t\tlet index = this.items.indexOf(before)\n\t\tif (index === -1) {\n\t\t\tindex = this.items.length\n\t\t}\n\t\tthis.items.splice(index, 0, item)\n\t}\n\n\tremove(toRemove: T) {\n\t\tthis.items = this.items.filter((item) => item !== toRemove)\n\t}\n\n\tclear() {\n\t\tthis.items = []\n\t}\n\n\tfind(predicate: (item: T) => boolean): T | undefined {\n\t\treturn this.items.find(predicate)\n\t}\n\n\tfindType<U extends T>(\n\t\ttype: new (...args: Array<NonNullable<unknown>>) => U,\n\t): U | undefined {\n\t\tfor (const item of this.items) {\n\t\t\tif (item instanceof type) return item\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.items[Symbol.iterator]()\n\t}\n}\n","import { Container } from \"./container.js\"\nimport type { ComponentInteraction } from \"./interaction\"\nimport type { MessageOptions } from \"./message\"\n\nexport abstract class Node<Props> {\n\treadonly children = new Container<Node<unknown>>()\n\n\tconstructor(public props: Props) {}\n\n\tmodifyMessageOptions(_options: MessageOptions) {\n\t\t// noop\n\t}\n\n\thandleComponentInteraction(_interaction: ComponentInteraction): boolean {\n\t\treturn false\n\t}\n\n\tget text(): string {\n\t\treturn [...this.children].map((child) => child.text).join(\"\")\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction.js\"\n\n/**\n * Props for an action row\n *\n * @category Action Row\n */\nexport interface ActionRowProps {\n\tchildren?: ReactNode\n}\n\n/**\n * An action row is a top-level container for message components.\n *\n * You don't need to use this; Reacord automatically creates action rows for\n * you. But this can be useful if you want a specific layout.\n *\n * ```tsx\n * // put buttons on two separate rows\n * <ActionRow>\n *   <Button label=\"First\" onClick={handleFirst} />\n * </ActionRow>\n * <Button label=\"Second\" onClick={handleSecond} />\n * ```\n *\n * @category Action Row\n * @see https://discord.com/developers/docs/interactions/message-components#action-rows\n */\nexport function ActionRow(props: ActionRowProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ActionRowNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass ActionRowNode extends Node<ActionRowProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\toptions.actionRows.push([])\n\t\tfor (const child of this.children) {\n\t\t\tchild.modifyMessageOptions(options)\n\t\t}\n\t}\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const child of this.children) {\n\t\t\tif (child.handleComponentInteraction(interaction)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n}\n","import { randomUUID } from \"node:crypto\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Button */\nexport type ButtonProps = ButtonSharedProps & {\n\t/**\n\t * The style determines the color of the button and signals intent.\n\t *\n\t * @see https://discord.com/developers/docs/interactions/message-components#button-object-button-styles\n\t */\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\n\t/** Happens when a user clicks the button. */\n\tonClick: (event: ButtonClickEvent) => void\n}\n\n/** @category Button */\nexport type ButtonClickEvent = ComponentEvent\n\n/** @category Button */\nexport function Button(props: ButtonProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ButtonNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new ButtonLabelNode({})}>\n\t\t\t\t{props.label}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass ButtonNode extends Node<ButtonProps> {\n\tprivate customId = randomUUID()\n\n\t// this has text children, but buttons themselves shouldn't yield text\n\t// eslint-disable-next-line @typescript-eslint/class-literal-property-style\n\toverride get text() {\n\t\treturn \"\"\n\t}\n\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"button\",\n\t\t\tcustomId: this.customId,\n\t\t\tstyle: this.props.style ?? \"secondary\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(ButtonLabelNode)?.text,\n\t\t})\n\t}\n\n\toverride handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tif (\n\t\t\tinteraction.type === \"button\" &&\n\t\t\tinteraction.customId === this.customId\n\t\t) {\n\t\t\tthis.props.onClick(interaction.event)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n}\n\nclass ButtonLabelNode extends Node<Record<string, never>> {}\n","export function last<T>(array: T[]): T | undefined {\n\treturn array[array.length - 1]\n}\n","import type { EmbedOptions } from \"../core/components/embed-options\"\nimport type { SelectProps } from \"../core/components/select\"\nimport { last } from \"@reacord/helpers/last\"\nimport type { Except } from \"type-fest\"\n\nexport interface MessageOptions {\n\tcontent: string\n\tembeds: EmbedOptions[]\n\tactionRows: ActionRow[]\n}\n\nexport type ActionRow = ActionRowItem[]\n\nexport type ActionRowItem =\n\t| MessageButtonOptions\n\t| MessageLinkOptions\n\t| MessageSelectOptions\n\nexport interface MessageButtonOptions {\n\ttype: \"button\"\n\tcustomId: string\n\tlabel?: string\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\tdisabled?: boolean\n\temoji?: string\n}\n\nexport interface MessageLinkOptions {\n\ttype: \"link\"\n\turl: string\n\tlabel?: string\n\temoji?: string\n\tdisabled?: boolean\n}\n\nexport type MessageSelectOptions = Except<SelectProps, \"children\" | \"value\"> & {\n\ttype: \"select\"\n\tcustomId: string\n\toptions: MessageSelectOptionOptions[]\n}\n\nexport interface MessageSelectOptionOptions {\n\tlabel: string\n\tvalue: string\n\tdescription?: string\n\temoji?: string\n}\n\nexport interface Message {\n\tedit(options: MessageOptions): Promise<void>\n\tdelete(): Promise<void>\n}\n\nexport function getNextActionRow(options: MessageOptions): ActionRow {\n\tlet actionRow = last(options.actionRows)\n\tif (\n\t\tactionRow == undefined ||\n\t\tactionRow.length >= 5 ||\n\t\tactionRow[0]?.type === \"select\"\n\t) {\n\t\tactionRow = []\n\t\toptions.actionRows.push(actionRow)\n\t}\n\treturn actionRow\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('d√©j√† vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import { camelCase, isObject, snakeCase } from \"lodash-es\"\nimport type {\n\tCamelCasedPropertiesDeep,\n\tSnakeCasedPropertiesDeep,\n\tUnknownRecord,\n} from \"type-fest\"\n\nfunction convertKeyCaseDeep<Input, Output>(\n\tinput: Input,\n\tconvertKey: (key: string) => string,\n): Output {\n\tif (!isObject(input)) {\n\t\treturn input as unknown as Output\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input.map((item) =>\n\t\t\tconvertKeyCaseDeep(item, convertKey),\n\t\t) as unknown as Output\n\t}\n\n\tconst output = {} as UnknownRecord\n\tfor (const [key, value] of Object.entries(input)) {\n\t\toutput[convertKey(key)] = convertKeyCaseDeep(value, convertKey)\n\t}\n\treturn output as Output\n}\n\nexport function camelCaseDeep<T>(input: T): CamelCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, camelCase)\n}\n\nexport function snakeCaseDeep<T>(input: T): SnakeCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, snakeCase)\n}\n","export function omit<Subject extends object, Key extends PropertyKey>(\n\tsubject: Subject,\n\tkeys: Key[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(subject).filter(([key]) => !keySet.has(key)),\n\t\t// hack: conditional type preserves unions\n\t) as Subject extends unknown ? Omit<Subject, Key> : never\n}\n","import type { MessageOptions } from \"./message\"\nimport { Node } from \"./node.js\"\n\nexport class TextNode extends Node<string> {\n\toverride modifyMessageOptions(options: MessageOptions) {\n\t\toptions.content = options.content + this.props\n\t}\n\n\toverride get text() {\n\t\treturn this.props\n\t}\n}\n","import { Node } from \"../../internal/node.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\nexport abstract class EmbedChildNode<Props> extends Node<Props> {\n\tabstract modifyEmbedOptions(options: EmbedOptions): void\n}\n","import { snakeCaseDeep } from \"@reacord/helpers/convert-object-property-case\"\nimport { omit } from \"@reacord/helpers/omit\"\nimport type React from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport { TextNode } from \"../../internal/text-node\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport interface EmbedProps {\n\ttitle?: string\n\tdescription?: string\n\turl?: string\n\tcolor?: number\n\tfields?: Array<{ name: string; value: string; inline?: boolean }>\n\tauthor?: { name: string; url?: string; iconUrl?: string }\n\tthumbnail?: { url: string }\n\timage?: { url: string }\n\tvideo?: { url: string }\n\tfooter?: { text: string; iconUrl?: string }\n\ttimestamp?: string | number | Date\n\tchildren?: React.ReactNode\n}\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport function Embed(props: EmbedProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedNode extends Node<EmbedProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tconst embed: EmbedOptions = {\n\t\t\t...snakeCaseDeep(omit(this.props, [\"children\", \"timestamp\"])),\n\t\t\ttimestamp: this.props.timestamp\n\t\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t\t: undefined,\n\t\t}\n\n\t\tfor (const child of this.children) {\n\t\t\tif (child instanceof EmbedChildNode) {\n\t\t\t\tchild.modifyEmbedOptions(embed)\n\t\t\t}\n\t\t\tif (child instanceof TextNode) {\n\t\t\t\tembed.description = (embed.description ?? \"\") + child.props\n\t\t\t}\n\t\t}\n\n\t\toptions.embeds.push(embed)\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedAuthorProps {\n\tname?: ReactNode\n\tchildren?: ReactNode\n\turl?: string\n\ticonUrl?: string\n}\n\n/** @category Embed */\nexport function EmbedAuthor(props: EmbedAuthorProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedAuthorNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new AuthorTextNode({})}>\n\t\t\t\t{props.name ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedAuthorNode extends EmbedChildNode<EmbedAuthorProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.author = {\n\t\t\tname: this.children.findType(AuthorTextNode)?.text ?? \"\",\n\t\t\turl: this.props.url,\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t}\n}\n\nclass AuthorTextNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFieldProps {\n\tname: ReactNode\n\tvalue?: ReactNode\n\tinline?: boolean\n\tchildren?: ReactNode\n}\n\n/** @category Embed */\nexport function EmbedField(props: EmbedFieldProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFieldNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldNameNode({})}>\n\t\t\t\t{props.name}\n\t\t\t</ReacordElement>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldValueNode({})}>\n\t\t\t\t{props.value ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFieldNode extends EmbedChildNode<EmbedFieldProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.fields ??= []\n\t\toptions.fields.push({\n\t\t\tname: this.children.findType(FieldNameNode)?.text ?? \"\",\n\t\t\tvalue: this.children.findType(FieldValueNode)?.text ?? \"\",\n\t\t\tinline: this.props.inline,\n\t\t})\n\t}\n}\n\nclass FieldNameNode extends Node<Record<string, never>> {}\nclass FieldValueNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFooterProps {\n\ttext?: ReactNode\n\tchildren?: ReactNode\n\ticonUrl?: string\n\ttimestamp?: string | number | Date\n}\n\n/** @category Embed */\nexport function EmbedFooter({ text, children, ...props }: EmbedFooterProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFooterNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FooterTextNode({})}>\n\t\t\t\t{text ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFooterNode extends EmbedChildNode<\n\tOmit<EmbedFooterProps, \"text\" | \"children\">\n> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.footer = {\n\t\t\ttext: this.children.findType(FooterTextNode)?.text ?? \"\",\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t\toptions.timestamp = this.props.timestamp\n\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t: undefined\n\t}\n}\n\nclass FooterTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedImageProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedImage(props: EmbedImageProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedImageNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedImageNode extends EmbedChildNode<EmbedImageProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.image = { url: this.props.url }\n\t}\n}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedThumbnailProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedThumbnail(props: EmbedThumbnailProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedThumbnailNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedThumbnailNode extends EmbedChildNode<EmbedThumbnailProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.thumbnail = { url: this.props.url }\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedTitleProps {\n\tchildren: ReactNode\n\turl?: string\n}\n\n/** @category Embed */\nexport function EmbedTitle({ children, ...props }: EmbedTitleProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedTitleNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new TitleTextNode({})}>\n\t\t\t\t{children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedTitleNode extends EmbedChildNode<Omit<EmbedTitleProps, \"children\">> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.title = this.children.findType(TitleTextNode)?.text ?? \"\"\n\t\toptions.url = this.props.url\n\t}\n}\n\nclass TitleTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Link */\nexport type LinkProps = ButtonSharedProps & {\n\t/** The URL the link should lead to */\n\turl: string\n\t/** The link text */\n\tchildren?: string\n}\n\n/** @category Link */\nexport function Link({ label, children, ...props }: LinkProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new LinkNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new LinkTextNode({})}>\n\t\t\t\t{label ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass LinkNode extends Node<Omit<LinkProps, \"label\" | \"children\">> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"link\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(LinkTextNode)?.text,\n\t\t\turl: this.props.url,\n\t\t})\n\t}\n}\n\nclass LinkTextNode extends Node<Record<string, never>> {}\n","import type { MessageSelectOptionOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node\"\nimport type { OptionProps } from \"./option\"\n\nexport class OptionNode extends Node<\n\tOmit<OptionProps, \"children\" | \"label\" | \"description\">\n> {\n\tget options(): MessageSelectOptionOptions {\n\t\treturn {\n\t\t\tlabel: this.children.findType(OptionLabelNode)?.text ?? this.props.value,\n\t\t\tvalue: this.props.value,\n\t\t\tdescription: this.children.findType(OptionDescriptionNode)?.text,\n\t\t\temoji: this.props.emoji,\n\t\t}\n\t}\n}\n\nexport class OptionLabelNode extends Node<Record<string, never>> {}\nexport class OptionDescriptionNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element\"\nimport {\n\tOptionDescriptionNode,\n\tOptionLabelNode,\n\tOptionNode,\n} from \"./option-node\"\n\n/** @category Select */\nexport interface OptionProps {\n\t/** The internal value of this option */\n\tvalue: string\n\t/** The text shown to the user. This takes priority over `children` */\n\tlabel?: ReactNode\n\t/** The text shown to the user */\n\tchildren?: ReactNode\n\t/** Description for the option, shown to the user */\n\tdescription?: ReactNode\n\n\t/**\n\t * Renders an emoji to the left of the text.\n\t *\n\t * Has to be a literal emoji character (e.g. üçç), or an emoji code, like\n\t * `<:plus_one:778531744860602388>`.\n\t *\n\t * To get an emoji code, type your emoji in Discord chat with a backslash `\\`\n\t * in front. The bot has to be in the emoji's guild to use it.\n\t */\n\temoji?: string\n}\n\n/** @category Select */\nexport function Option({\n\tlabel,\n\tchildren,\n\tdescription,\n\t...props\n}: OptionProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new OptionNode(props)}>\n\t\t\t{(label !== undefined || children !== undefined) && (\n\t\t\t\t<ReacordElement props={{}} createNode={() => new OptionLabelNode({})}>\n\t\t\t\t\t{label ?? children}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t\t{description !== undefined && (\n\t\t\t\t<ReacordElement\n\t\t\t\t\tprops={{}}\n\t\t\t\t\tcreateNode={() => new OptionDescriptionNode({})}\n\t\t\t\t>\n\t\t\t\t\t{description}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t</ReacordElement>\n\t)\n}\n","/** For narrowing instance types with array.filter */\nexport const isInstanceOf =\n\t<Instance, Args extends unknown[]>(\n\t\tconstructor: new (...args: Args) => Instance,\n\t) =>\n\t(value: unknown): value is Instance =>\n\t\tvalue instanceof constructor\n","import { isInstanceOf } from \"@reacord/helpers/is-instance-of\"\nimport { randomUUID } from \"node:crypto\"\nimport type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type {\n\tActionRow,\n\tActionRowItem,\n\tMessageOptions,\n} from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport { OptionNode } from \"./option-node\"\nimport { omit } from \"@reacord/helpers/omit.js\"\n\n/** @category Select */\nexport interface SelectProps {\n\tchildren?: ReactNode\n\t/** Sets the currently selected value */\n\tvalue?: string\n\n\t/** Sets the currently selected values, for use with `multiple` */\n\tvalues?: string[]\n\n\t/** The text shown when no value is selected */\n\tplaceholder?: string\n\n\t/** Set to true to allow multiple selected values */\n\tmultiple?: boolean\n\n\t/**\n\t * With `multiple`, the minimum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tminValues?: number\n\n\t/**\n\t * With `multiple`, the maximum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tmaxValues?: number\n\n\t/**\n\t * When true, the select will be slightly faded, and cannot be interacted\n\t * with.\n\t */\n\tdisabled?: boolean\n\n\t/**\n\t * Called when the user inputs a selection. Receives the entire select change\n\t * event, which can be used to create new replies, etc.\n\t */\n\tonChange?: (event: SelectChangeEvent) => void\n\n\t/**\n\t * Convenience shorthand for `onChange`, which receives the first selected\n\t * value.\n\t */\n\tonChangeValue?: (value: string, event: SelectChangeEvent) => void\n\n\t/** Convenience shorthand for `onChange`, which receives all selected values. */\n\tonChangeMultiple?: (values: string[], event: SelectChangeEvent) => void\n}\n\n/** @category Select */\nexport type SelectChangeEvent = ComponentEvent & {\n\tvalues: string[]\n}\n\n/**\n * See [the select menu guide](/guides/select-menu) for a usage example.\n *\n * @category Select\n */\nexport function Select(props: SelectProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new SelectNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass SelectNode extends Node<SelectProps> {\n\treadonly customId = randomUUID()\n\n\toverride modifyMessageOptions(message: MessageOptions): void {\n\t\tconst actionRow: ActionRow = []\n\t\tmessage.actionRows.push(actionRow)\n\n\t\tconst options = [...this.children]\n\t\t\t.filter(isInstanceOf(OptionNode))\n\t\t\t.map((node) => node.options)\n\n\t\tconst {\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\tvalues,\n\t\t\tminValues = 0,\n\t\t\tmaxValues = 25,\n\t\t\t...props\n\t\t} = omit(this.props, [\n\t\t\t\"children\",\n\t\t\t\"onChange\",\n\t\t\t\"onChangeValue\",\n\t\t\t\"onChangeMultiple\",\n\t\t])\n\n\t\tconst item: ActionRowItem = {\n\t\t\t...props,\n\t\t\ttype: \"select\",\n\t\t\tcustomId: this.customId,\n\t\t\toptions,\n\t\t\tvalues: [],\n\t\t}\n\n\t\tif (multiple) {\n\t\t\titem.minValues = minValues\n\t\t\titem.maxValues = maxValues\n\t\t\tif (values) item.values = values\n\t\t}\n\n\t\tif (!multiple && value != undefined) {\n\t\t\titem.values = [value]\n\t\t}\n\n\t\tactionRow.push(item)\n\t}\n\n\toverride handleComponentInteraction(\n\t\tinteraction: ComponentInteraction,\n\t): boolean {\n\t\tconst isSelectInteraction =\n\t\t\tinteraction.type === \"select\" &&\n\t\t\tinteraction.customId === this.customId &&\n\t\t\t!this.props.disabled\n\n\t\tif (!isSelectInteraction) return false\n\n\t\tthis.props.onChange?.(interaction.event)\n\t\tthis.props.onChangeMultiple?.(interaction.event.values, interaction.event)\n\t\tif (interaction.event.values[0]) {\n\t\t\tthis.props.onChangeValue?.(interaction.event.values[0], interaction.event)\n\t\t}\n\t\treturn true\n\t}\n}\n","export function toError(value: unknown) {\n\treturn value instanceof Error ? value : new Error(String(value))\n}\n","import { toError } from \"./to-error.js\"\n\nexport function raise(error: unknown): never {\n\tthrow toError(error)\n}\n","import type { ReacordInstance } from \"./instance.js\"\nimport { raise } from \"@reacord/helpers/raise.js\"\nimport * as React from \"react\"\n\nconst Context = React.createContext<ReacordInstance | undefined>(undefined)\n\nexport const InstanceProvider = Context.Provider\n\n/**\n * Get the associated instance for the current component.\n *\n * @category Core\n * @see https://reacord.mapleleaf.dev/guides/use-instance\n */\nexport function useInstance(): ReacordInstance {\n\treturn (\n\t\tReact.useContext(Context) ??\n\t\traise(\"Could not find instance, was this component rendered via Reacord?\")\n\t)\n}\n","import { raise } from \"@reacord/helpers/raise.js\"\nimport type { HostConfig } from \"react-reconciler\"\nimport ReactReconciler from \"react-reconciler\"\nimport { DefaultEventPriority } from \"react-reconciler/constants.js\"\nimport { Node } from \"./node.js\"\nimport type { Renderer } from \"./renderers/renderer\"\nimport { TextNode } from \"./text-node.js\"\n\nconst config: HostConfig<\n\tstring, // Type,\n\tRecord<string, unknown>, // Props,\n\tRenderer, // Container,\n\tNode<unknown>, // Instance,\n\tTextNode, // TextInstance,\n\tnever, // SuspenseInstance,\n\tnever, // HydratableInstance,\n\tnever, // PublicInstance,\n\tnever, // HostContext,\n\ttrue, // UpdatePayload,\n\tnever, // ChildSet,\n\tnumber, // TimeoutHandle,\n\tnumber // NoTimeout,\n> = {\n\tsupportsMutation: true,\n\tsupportsPersistence: false,\n\tsupportsHydration: false,\n\tisPrimaryRenderer: true,\n\tscheduleTimeout: global.setTimeout,\n\tcancelTimeout: global.clearTimeout,\n\tnoTimeout: -1,\n\n\tgetRootHostContext: () => null,\n\tgetChildHostContext: (parentContext) => parentContext,\n\n\tcreateInstance: (type, props) => {\n\t\tif (type !== \"reacord-element\") {\n\t\t\traise(`Unknown element type: ${type}`)\n\t\t}\n\n\t\tif (typeof props.createNode !== \"function\") {\n\t\t\traise(`Missing createNode function`)\n\t\t}\n\n\t\tconst node: unknown = props.createNode(props.props)\n\t\tif (!(node instanceof Node)) {\n\t\t\traise(`createNode function did not return a Node`)\n\t\t}\n\n\t\treturn node\n\t},\n\tcreateTextInstance: (text) => new TextNode(text),\n\tshouldSetTextContent: () => false,\n\tdetachDeletedInstance: (_instance) => {},\n\tbeforeActiveInstanceBlur: () => {},\n\tafterActiveInstanceBlur: () => {},\n\tgetInstanceFromNode: (_node: unknown) => null,\n\tgetInstanceFromScope: (_scopeInstance: unknown) => null,\n\n\tclearContainer: (renderer) => {\n\t\trenderer.nodes.clear()\n\t},\n\tappendChildToContainer: (renderer, child) => {\n\t\trenderer.nodes.add(child)\n\t},\n\tremoveChildFromContainer: (renderer, child) => {\n\t\trenderer.nodes.remove(child)\n\t},\n\tinsertInContainerBefore: (renderer, child, before) => {\n\t\trenderer.nodes.addBefore(child, before)\n\t},\n\n\tappendInitialChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tappendChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tremoveChild: (parent, child) => {\n\t\tparent.children.remove(child)\n\t},\n\tinsertBefore: (parent, child, before) => {\n\t\tparent.children.addBefore(child, before)\n\t},\n\n\tprepareUpdate: () => true,\n\tcommitUpdate: (node, payload, type, oldProps, newProps) => {\n\t\tnode.props = newProps.props\n\t},\n\tcommitTextUpdate: (node, oldText, newText) => {\n\t\tnode.props = newText\n\t},\n\n\tprepareForCommit: () => null,\n\tresetAfterCommit: (renderer) => {\n\t\trenderer.render()\n\t},\n\tprepareScopeUpdate: (_scopeInstance: unknown, _instance: unknown) => {},\n\n\tpreparePortalMount: () => raise(\"Portals are not supported\"),\n\tgetPublicInstance: () => raise(\"Refs are currently not supported\"),\n\n\tfinalizeInitialChildren: () => false,\n\n\tgetCurrentEventPriority: () => DefaultEventPriority,\n}\n\nexport const reconciler = ReactReconciler(config)\n","import type { ReactNode } from \"react\"\nimport type { ComponentInteraction } from \"../internal/interaction.js\"\nimport { reconciler } from \"../internal/reconciler.js\"\nimport type { Renderer } from \"../internal/renderers/renderer.js\"\nimport { InstanceProvider } from \"./instance-context.js\"\nimport type { ReacordInstance } from \"./instance.js\"\n\n/** @category Core */\nexport interface ReacordConfig {\n\t/**\n\t * The max number of active instances. When this limit is exceeded, the oldest\n\t * instances will be disabled.\n\t */\n\tmaxInstances?: number\n}\n\n/**\n * The main Reacord class that other Reacord adapters should extend. Only use\n * this directly if you're making [a custom adapter](/guides/custom-adapters).\n */\nexport abstract class Reacord {\n\tprivate renderers: Renderer[] = []\n\n\tconstructor(private readonly config: ReacordConfig = {}) {}\n\n\tprotected handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const renderer of this.renderers) {\n\t\t\tif (renderer.handleComponentInteraction(interaction)) return\n\t\t}\n\t}\n\n\tprivate get maxInstances() {\n\t\treturn this.config.maxInstances ?? 50\n\t}\n\n\tprotected createInstance(renderer: Renderer, initialContent?: ReactNode) {\n\t\tif (this.renderers.length > this.maxInstances && this.renderers[0]) {\n\t\t\tthis.deactivate(this.renderers[0])\n\t\t}\n\n\t\tthis.renderers.push(renderer)\n\n\t\tconst container: unknown = reconciler.createContainer(\n\t\t\trenderer,\n\t\t\t0,\n\t\t\tnull,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\t\"reacord\",\n\t\t\t() => {},\n\t\t\tnull,\n\t\t)\n\n\t\tconst instance: ReacordInstance = {\n\t\t\trender: (content: ReactNode) => {\n\t\t\t\treconciler.updateContainer(\n\t\t\t\t\t<InstanceProvider value={instance}>{content}</InstanceProvider>,\n\t\t\t\t\tcontainer,\n\t\t\t\t)\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdeactivate: () => {\n\t\t\t\tthis.deactivate(renderer)\n\t\t\t},\n\t\t\tdestroy: () => {\n\t\t\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\t\t\trenderer.destroy()\n\t\t\t},\n\t\t}\n\n\t\tif (initialContent !== undefined) {\n\t\t\tinstance.render(initialContent)\n\t\t}\n\n\t\treturn instance\n\t}\n\n\tprivate deactivate(renderer: Renderer) {\n\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\trenderer.deactivate()\n\t}\n}\n","export function safeJsonStringify(value: unknown): string {\n\ttry {\n\t\treturn JSON.stringify(value)\n\t} catch {\n\t\treturn String(value)\n\t}\n}\n","import type { LoosePick } from \"./types\"\n\nexport function pick<T extends object, K extends keyof T | PropertyKey>(\n\tobject: T,\n\tkeys: K[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(object).filter(([key]) => keySet.has(key)),\n\t) as LoosePick<T, K>\n}\n","export function isObject(value: unknown): value is object {\n\treturn typeof value === \"object\" && value !== null\n}\n","import { isObject } from \"./is-object\"\n\nexport function pruneNullishValues<T>(input: T): PruneNullishValues<T> {\n\tif (!isObject(input)) {\n\t\treturn input as PruneNullishValues<T>\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input\n\t\t\t.filter(Boolean)\n\t\t\t.map(\n\t\t\t\t(item) => pruneNullishValues(item) as unknown,\n\t\t\t) as PruneNullishValues<T>\n\t}\n\n\tconst result: Record<string, unknown> = {}\n\tfor (const [key, value] of Object.entries(input)) {\n\t\tif (value != undefined) {\n\t\t\tresult[key] = pruneNullishValues(value)\n\t\t}\n\t}\n\treturn result as PruneNullishValues<T>\n}\n\nexport type PruneNullishValues<Input> = Input extends object\n\t? OptionalKeys<\n\t\t\t{ [Key in keyof Input]: NonNullable<PruneNullishValues<Input[Key]>> },\n\t\t\tKeysWithNullishValues<Input>\n\t  >\n\t: Input\n\ntype OptionalKeys<Input, Keys extends keyof Input> = Omit<Input, Keys> & {\n\t[Key in Keys]?: Input[Key]\n}\n\ntype KeysWithNullishValues<Input> = NonNullable<\n\tValues<{\n\t\t[Key in keyof Input]: null extends Input[Key]\n\t\t\t? Key\n\t\t\t: undefined extends Input[Key]\n\t\t\t? Key\n\t\t\t: never\n\t}>\n>\n\ntype Values<Input> = Input[keyof Input]\n","import { safeJsonStringify } from \"@reacord/helpers/json\"\nimport { pick } from \"@reacord/helpers/pick\"\nimport { pruneNullishValues } from \"@reacord/helpers/prune-nullish-values\"\nimport { raise } from \"@reacord/helpers/raise\"\nimport * as Discord from \"discord.js\"\nimport type { ReactNode } from \"react\"\nimport type { Except } from \"type-fest\"\nimport type { ComponentInteraction } from \"../internal/interaction\"\nimport type {\n\tMessage,\n\tMessageButtonOptions,\n\tMessageOptions,\n} from \"../internal/message\"\nimport { ChannelMessageRenderer } from \"../internal/renderers/channel-message-renderer\"\nimport { InteractionReplyRenderer } from \"../internal/renderers/interaction-reply-renderer\"\nimport type {\n\tComponentEventChannel,\n\tComponentEventGuild,\n\tComponentEventGuildMember,\n\tComponentEventMessage,\n\tComponentEventReplyOptions,\n\tComponentEventUser,\n} from \"./component-event\"\nimport type { ReacordInstance } from \"./instance\"\nimport type { ReacordConfig } from \"./reacord\"\nimport { Reacord } from \"./reacord\"\n\n/**\n * The Reacord adapter for Discord.js.\n *\n * @category Core\n */\nexport class ReacordDiscordJs extends Reacord {\n\tconstructor(\n\t\tprivate client: Discord.Client,\n\t\tconfig: ReacordConfig = {},\n\t) {\n\t\tsuper(config)\n\n\t\tclient.on(\"interactionCreate\", (interaction) => {\n\t\t\tif (interaction.isButton() || interaction.isStringSelectMenu()) {\n\t\t\t\tthis.handleComponentInteraction(\n\t\t\t\t\tthis.createReacordComponentInteraction(interaction),\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @param target Discord channel object.\n\t * @param [options] Options for the channel message\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.MessageCreateOptions}\n\t */\n\tpublic createChannelMessage(\n\t\ttarget: Discord.ChannelResolvable,\n\t\toptions: Discord.MessageCreateOptions = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(target, options),\n\t\t)\n\t}\n\n\t/**\n\t * Replies to a command interaction by sending a message.\n\t *\n\t * @param interaction Discord command interaction object.\n\t * @param [options] Custom options for the interaction reply method.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.InteractionReplyOptions}\n\t */\n\tpublic createInteractionReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\toptions: Discord.InteractionReplyOptions = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, options),\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @deprecated Use reacord.createChannelMessage() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic send(\n\t\tchannel: Discord.ChannelResolvable,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(channel, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic reply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends an ephemeral message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply(interaction, { ephemeral:\n\t *   true })\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic ephemeralReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\tephemeral: true,\n\t\t\t}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\tprivate createChannelMessageRenderer(\n\t\tchannelResolvable: Discord.ChannelResolvable,\n\t\tmessageCreateOptions?: Discord.MessageCreateOptions,\n\t) {\n\t\treturn new ChannelMessageRenderer({\n\t\t\tsend: async (messageOptions) => {\n\t\t\t\tlet channel = this.client.channels.resolve(channelResolvable)\n\t\t\t\tif (!channel && typeof channelResolvable === \"string\") {\n\t\t\t\t\tchannel = await this.client.channels.fetch(channelResolvable)\n\t\t\t\t}\n\n\t\t\t\tif (!channel) {\n\t\t\t\t\tconst id =\n\t\t\t\t\t\ttypeof channelResolvable === \"string\"\n\t\t\t\t\t\t\t? channelResolvable\n\t\t\t\t\t\t\t: channelResolvable.id\n\t\t\t\t\traise(`Channel ${id} not found`)\n\t\t\t\t}\n\n\t\t\t\tif (!channel.isTextBased()) {\n\t\t\t\t\traise(`Channel ${channel.id} must be a text channel`)\n\t\t\t\t}\n\n\t\t\t\tconst message = await channel.send({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...messageCreateOptions,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createInteractionReplyRenderer(\n\t\tinteraction:\n\t\t\t| Discord.CommandInteraction\n\t\t\t| Discord.MessageComponentInteraction,\n\t\tinteractionReplyOptions: Discord.InteractionReplyOptions,\n\t) {\n\t\treturn new InteractionReplyRenderer({\n\t\t\tinteractionId: interaction.id,\n\t\t\treply: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createReacordComponentInteraction(\n\t\tinteraction: Discord.MessageComponentInteraction,\n\t): ComponentInteraction {\n\t\t// todo please dear god clean this up\n\t\tconst channel: ComponentEventChannel = interaction.channel\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\tpick(interaction.channel, [\n\t\t\t\t\t\t\t\"topic\",\n\t\t\t\t\t\t\t\"nsfw\",\n\t\t\t\t\t\t\t\"lastMessageId\",\n\t\t\t\t\t\t\t\"ownerId\",\n\t\t\t\t\t\t\t\"parentId\",\n\t\t\t\t\t\t\t\"rateLimitPerUser\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t),\n\t\t\t\t\tid: interaction.channelId,\n\t\t\t  }\n\t\t\t: raise(\"Non-channel interactions are not supported\")\n\n\t\tconst message: ComponentEventMessage =\n\t\t\tinteraction.message instanceof Discord.Message\n\t\t\t\t? {\n\t\t\t\t\t\t...pick(interaction.message, [\n\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\"channelId\",\n\t\t\t\t\t\t\t\"authorId\",\n\t\t\t\t\t\t\t\"content\",\n\t\t\t\t\t\t\t\"tts\",\n\t\t\t\t\t\t\t\"mentionEveryone\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t\ttimestamp: new Date(\n\t\t\t\t\t\t\tinteraction.message.createdTimestamp,\n\t\t\t\t\t\t).toISOString(),\n\t\t\t\t\t\teditedTimestamp: interaction.message.editedTimestamp\n\t\t\t\t\t\t\t? new Date(interaction.message.editedTimestamp).toISOString()\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tmentions: interaction.message.mentions.users.map((u) => u.id),\n\t\t\t\t\t\tauthorId: interaction.message.author.id,\n\t\t\t\t\t\tmentionEveryone: interaction.message.mentions.everyone,\n\t\t\t\t  }\n\t\t\t\t: raise(\"Message not found\")\n\n\t\tconst member: ComponentEventGuildMember | undefined =\n\t\t\tinteraction.member instanceof Discord.GuildMember\n\t\t\t\t? {\n\t\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\t\tpick(interaction.member, [\n\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\"nick\",\n\t\t\t\t\t\t\t\t\"displayName\",\n\t\t\t\t\t\t\t\t\"avatarUrl\",\n\t\t\t\t\t\t\t\t\"displayAvatarUrl\",\n\t\t\t\t\t\t\t\t\"color\",\n\t\t\t\t\t\t\t\t\"pending\",\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName: interaction.member.displayName,\n\t\t\t\t\t\troles: interaction.member.roles.cache.map((role) => role.id),\n\t\t\t\t\t\tjoinedAt: interaction.member.joinedAt?.toISOString(),\n\t\t\t\t\t\tpremiumSince: interaction.member.premiumSince?.toISOString(),\n\t\t\t\t\t\tcommunicationDisabledUntil:\n\t\t\t\t\t\t\tinteraction.member.communicationDisabledUntil?.toISOString(),\n\t\t\t\t\t\tcolor: interaction.member.displayColor,\n\t\t\t\t\t\tdisplayAvatarUrl: interaction.member.displayAvatarURL(),\n\t\t\t\t  }\n\t\t\t\t: undefined\n\n\t\tconst guild: ComponentEventGuild | undefined = interaction.guild\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(pick(interaction.guild, [\"id\", \"name\"])),\n\t\t\t\t\tmember: member ?? raise(\"unexpected: member is undefined\"),\n\t\t\t  }\n\t\t\t: undefined\n\n\t\tconst user: ComponentEventUser = {\n\t\t\t...pruneNullishValues(\n\t\t\t\tpick(interaction.user, [\"id\", \"username\", \"discriminator\", \"tag\"]),\n\t\t\t),\n\t\t\tavatarUrl: interaction.user.avatarURL(),\n\t\t\taccentColor: interaction.user.accentColor ?? undefined,\n\t\t}\n\n\t\tconst baseProps: Except<ComponentInteraction, \"type\"> = {\n\t\t\tid: interaction.id,\n\t\t\tcustomId: interaction.customId,\n\t\t\tupdate: async (options: MessageOptions) => {\n\t\t\t\tif (interaction.deferred || interaction.replied) {\n\t\t\t\t\tawait interaction.message.edit(getDiscordMessageOptions(options))\n\t\t\t\t} else {\n\t\t\t\t\tawait interaction.update(getDiscordMessageOptions(options))\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferUpdate: async () => {\n\t\t\t\tif (interaction.replied || interaction.deferred) return\n\t\t\t\tawait interaction.deferUpdate()\n\t\t\t},\n\t\t\treply: async (options) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (options) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tevent: {\n\t\t\t\tchannel,\n\t\t\t\tmessage,\n\t\t\t\tuser,\n\t\t\t\tguild,\n\n\t\t\t\treply: (content?: ReactNode, options?: ComponentEventReplyOptions) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, options ?? {}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\n\t\t\t\t/** @deprecated Use event.reply(content, { ephemeral: true }) */\n\t\t\t\tephemeralReply: (content: ReactNode) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\t\t\t\tephemeral: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\t\t\t},\n\t\t}\n\n\t\tif (interaction.isButton()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"button\",\n\t\t\t}\n\t\t}\n\n\t\tif (interaction.isStringSelectMenu()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"select\",\n\t\t\t\tevent: {\n\t\t\t\t\t...baseProps.event,\n\t\t\t\t\tvalues: interaction.values,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\traise(`Unsupported component interaction type: ${interaction.type}`)\n\t}\n}\n\nfunction createReacordMessage(message: Discord.Message): Message {\n\treturn {\n\t\tedit: async (options) => {\n\t\t\tawait message.edit(getDiscordMessageOptions(options))\n\t\t},\n\t\tdelete: async () => {\n\t\t\tawait message.delete()\n\t\t},\n\t}\n}\n\nfunction convertButtonStyleToEnum(style: MessageButtonOptions[\"style\"]) {\n\tconst styleMap = {\n\t\tprimary: Discord.ButtonStyle.Primary,\n\t\tsecondary: Discord.ButtonStyle.Secondary,\n\t\tsuccess: Discord.ButtonStyle.Success,\n\t\tdanger: Discord.ButtonStyle.Danger,\n\t} as const\n\n\treturn styleMap[style ?? \"secondary\"]\n}\n\n// TODO: this could be a part of the core library,\n// and also handle some edge cases, e.g. empty messages\nfunction getDiscordMessageOptions(reacordOptions: MessageOptions) {\n\tconst options = {\n\t\tcontent: reacordOptions.content || undefined,\n\t\tembeds: reacordOptions.embeds,\n\t\tcomponents: reacordOptions.actionRows.map((row) => ({\n\t\t\ttype: Discord.ComponentType.ActionRow,\n\t\t\tcomponents: row.map(\n\t\t\t\t(component): Discord.MessageActionRowComponentData => {\n\t\t\t\t\tif (component.type === \"button\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\tcustomId: component.customId,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: convertButtonStyleToEnum(component.style),\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component.type === \"link\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\turl: component.url,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: Discord.ButtonStyle.Link,\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// future proofing\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tif (component.type === \"select\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...component,\n\t\t\t\t\t\t\ttype: Discord.ComponentType.SelectMenu,\n\t\t\t\t\t\t\toptions: component.options.map((option) => ({\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\tdefault: component.values?.includes(option.value),\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponent satisfies never\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Invalid component type ${safeJsonStringify(component)}}`,\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t),\n\t\t})),\n\t}\n\n\tif (!options.content && !options.embeds.length) {\n\t\toptions.content = \"_ _\"\n\t}\n\n\treturn options\n}\n","import { Container } from \"../container.js\"\nimport type { ComponentInteraction } from \"../interaction\"\nimport type { Message, MessageOptions } from \"../message\"\nimport type { Node } from \"../node.js\"\nimport { Subject } from \"rxjs\"\nimport { concatMap } from \"rxjs/operators\"\n\ntype UpdatePayload =\n\t| { action: \"update\" | \"deactivate\"; options: MessageOptions }\n\t| { action: \"deferUpdate\"; interaction: ComponentInteraction }\n\t| { action: \"destroy\" }\n\nexport abstract class Renderer {\n\treadonly nodes = new Container<Node<unknown>>()\n\tprivate componentInteraction?: ComponentInteraction\n\tprivate message?: Message\n\tprivate active = true\n\tprivate updates = new Subject<UpdatePayload>()\n\n\tprivate updateSubscription = this.updates\n\t\t.pipe(concatMap((payload) => this.updateMessage(payload)))\n\t\t.subscribe({ error: console.error })\n\n\trender() {\n\t\tif (!this.active) {\n\t\t\tconsole.warn(\"Attempted to update a deactivated message\")\n\t\t\treturn\n\t\t}\n\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"update\",\n\t\t})\n\t}\n\n\tdeactivate() {\n\t\tthis.active = false\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"deactivate\",\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis.active = false\n\t\tthis.updates.next({ action: \"destroy\" })\n\t}\n\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const node of this.nodes) {\n\t\t\tif (node.handleComponentInteraction(interaction)) {\n\t\t\t\tthis.componentInteraction = interaction\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.updates.next({ action: \"deferUpdate\", interaction })\n\t\t\t\t}, 500)\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract createMessage(options: MessageOptions): Promise<Message>\n\n\tprivate getMessageOptions(): MessageOptions {\n\t\tconst options: MessageOptions = {\n\t\t\tcontent: \"\",\n\t\t\tembeds: [],\n\t\t\tactionRows: [],\n\t\t}\n\t\tfor (const node of this.nodes) {\n\t\t\tnode.modifyMessageOptions(options)\n\t\t}\n\t\treturn options\n\t}\n\n\tprivate async updateMessage(payload: UpdatePayload) {\n\t\tif (payload.action === \"destroy\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\t\t\tawait this.message?.delete()\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deactivate\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\n\t\t\tawait this.message?.edit({\n\t\t\t\t...payload.options,\n\t\t\t\tactionRows: payload.options.actionRows.map((row) =>\n\t\t\t\t\trow.map((component) => ({\n\t\t\t\t\t\t...component,\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t})),\n\t\t\t\t),\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deferUpdate\") {\n\t\t\tawait payload.interaction.deferUpdate()\n\t\t\treturn\n\t\t}\n\n\t\tif (this.componentInteraction) {\n\t\t\tconst promise = this.componentInteraction.update(payload.options)\n\t\t\tthis.componentInteraction = undefined\n\t\t\tawait promise\n\t\t\treturn\n\t\t}\n\n\t\tif (this.message) {\n\t\t\tawait this.message.edit(payload.options)\n\t\t\treturn\n\t\t}\n\n\t\tthis.message = await this.createMessage(payload.options)\n\t}\n}\n","import type { Channel } from \"../channel\"\nimport type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\nexport class ChannelMessageRenderer extends Renderer {\n\tconstructor(private channel: Channel) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\treturn this.channel.send(options)\n\t}\n}\n","import type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\n// keep track of interaction ids which have replies,\n// so we know whether to call reply() or followUp()\nconst repliedInteractionIds = new Set<string>()\n\nexport type InteractionReplyRendererImplementation = {\n\tinteractionId: string\n\treply: (options: MessageOptions) => Promise<Message>\n\tfollowUp: (options: MessageOptions) => Promise<Message>\n}\n\nexport class InteractionReplyRenderer extends Renderer {\n\tconstructor(private implementation: InteractionReplyRendererImplementation) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\tif (repliedInteractionIds.has(this.implementation.interactionId)) {\n\t\t\treturn this.implementation.followUp(options)\n\t\t}\n\n\t\trepliedInteractionIds.add(this.implementation.interactionId)\n\t\treturn this.implementation.reply(options)\n\t}\n}\n"],"mappings":"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AA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAC1B,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UA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","names":["jsx","Symbol","objectProto","nativeObjectToString","symToStringTag","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsCombo","rsApos","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsxs","randomUUID","jsx","randomUUID","React","jsx","config","isObject","isObject","config","message"]}
\ No newline at end of file
+{"version":3,"sources":["../library/internal/element.ts","../library/internal/container.ts","../library/internal/node.ts","../library/core/components/action-row.tsx","../library/core/components/button.tsx","../../helpers/last.ts","../library/internal/message.ts","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_freeGlobal.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_root.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Symbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getRawTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_objectToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseGetTag.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isSymbol.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayMap.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseToString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/toString.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_arrayReduce.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_basePropertyOf.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_deburrLetter.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/deburr.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_asciiWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_hasUnicodeWord.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_unicodeWords.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/words.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createCompounder.js","../../../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/snakeCase.js","../../helpers/convert-object-property-case.ts","../../helpers/omit.ts","../library/internal/text-node.ts","../library/core/components/embed-child.ts","../library/core/components/embed.tsx","../library/core/components/embed-author.tsx","../library/core/components/embed-field.tsx","../library/core/components/embed-footer.tsx","../library/core/components/embed-image.tsx","../library/core/components/embed-thumbnail.tsx","../library/core/components/embed-title.tsx","../library/core/components/link.tsx","../library/core/components/option-node.ts","../library/core/components/option.tsx","../../helpers/is-instance-of.ts","../library/core/components/select.tsx","../../helpers/to-error.ts","../../helpers/raise.ts","../library/core/instance-context.tsx","../library/internal/reconciler.ts","../library/core/reacord.tsx","../../helpers/json.ts","../../helpers/pick.ts","../../helpers/is-object.ts","../../helpers/prune-nullish-values.ts","../library/core/reacord-discord-js.ts","../library/internal/renderers/renderer.ts","../library/internal/renderers/channel-message-renderer.ts","../library/internal/renderers/interaction-reply-renderer.ts"],"sourcesContent":["import type { Node } from \"./node\"\nimport type { ReactNode } from \"react\"\nimport React from \"react\"\n\nexport function ReacordElement<Props>(props: {\n\tprops: Props\n\tcreateNode: () => Node<Props>\n\tchildren?: ReactNode\n}) {\n\treturn React.createElement(\"reacord-element\", props)\n}\n","export class Container<T> {\n\tprivate items: T[] = []\n\n\tadd(...items: T[]) {\n\t\tthis.items.push(...items)\n\t}\n\n\taddBefore(item: T, before: T) {\n\t\tlet index = this.items.indexOf(before)\n\t\tif (index === -1) {\n\t\t\tindex = this.items.length\n\t\t}\n\t\tthis.items.splice(index, 0, item)\n\t}\n\n\tremove(toRemove: T) {\n\t\tthis.items = this.items.filter((item) => item !== toRemove)\n\t}\n\n\tclear() {\n\t\tthis.items = []\n\t}\n\n\tfind(predicate: (item: T) => boolean): T | undefined {\n\t\treturn this.items.find(predicate)\n\t}\n\n\tfindType<U extends T>(\n\t\ttype: new (...args: Array<NonNullable<unknown>>) => U,\n\t): U | undefined {\n\t\tfor (const item of this.items) {\n\t\t\tif (item instanceof type) return item\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.items[Symbol.iterator]()\n\t}\n}\n","import { Container } from \"./container.js\"\nimport type { ComponentInteraction } from \"./interaction\"\nimport type { MessageOptions } from \"./message\"\n\nexport abstract class Node<Props> {\n\treadonly children = new Container<Node<unknown>>()\n\n\tconstructor(public props: Props) {}\n\n\tmodifyMessageOptions(_options: MessageOptions) {\n\t\t// noop\n\t}\n\n\thandleComponentInteraction(_interaction: ComponentInteraction): boolean {\n\t\treturn false\n\t}\n\n\tget text(): string {\n\t\treturn [...this.children].map((child) => child.text).join(\"\")\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction.js\"\n\n/**\n * Props for an action row\n *\n * @category Action Row\n */\nexport interface ActionRowProps {\n\tchildren?: ReactNode\n}\n\n/**\n * An action row is a top-level container for message components.\n *\n * You don't need to use this; Reacord automatically creates action rows for\n * you. But this can be useful if you want a specific layout.\n *\n * ```tsx\n * // put buttons on two separate rows\n * <ActionRow>\n *   <Button label=\"First\" onClick={handleFirst} />\n * </ActionRow>\n * <Button label=\"Second\" onClick={handleSecond} />\n * ```\n *\n * @category Action Row\n * @see https://discord.com/developers/docs/interactions/message-components#action-rows\n */\nexport function ActionRow(props: ActionRowProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ActionRowNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass ActionRowNode extends Node<ActionRowProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\toptions.actionRows.push([])\n\t\tfor (const child of this.children) {\n\t\t\tchild.modifyMessageOptions(options)\n\t\t}\n\t}\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const child of this.children) {\n\t\t\tif (child.handleComponentInteraction(interaction)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n}\n","import { randomUUID } from \"node:crypto\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Button */\nexport type ButtonProps = ButtonSharedProps & {\n\t/**\n\t * The style determines the color of the button and signals intent.\n\t *\n\t * @see https://discord.com/developers/docs/interactions/message-components#button-object-button-styles\n\t */\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\n\t/** Happens when a user clicks the button. */\n\tonClick: (event: ButtonClickEvent) => void\n}\n\n/** @category Button */\nexport type ButtonClickEvent = ComponentEvent\n\n/** @category Button */\nexport function Button(props: ButtonProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new ButtonNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new ButtonLabelNode({})}>\n\t\t\t\t{props.label}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass ButtonNode extends Node<ButtonProps> {\n\tprivate customId = randomUUID()\n\n\t// this has text children, but buttons themselves shouldn't yield text\n\t// eslint-disable-next-line @typescript-eslint/class-literal-property-style\n\toverride get text() {\n\t\treturn \"\"\n\t}\n\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"button\",\n\t\t\tcustomId: this.customId,\n\t\t\tstyle: this.props.style ?? \"secondary\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(ButtonLabelNode)?.text,\n\t\t})\n\t}\n\n\toverride handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tif (\n\t\t\tinteraction.type === \"button\" &&\n\t\t\tinteraction.customId === this.customId\n\t\t) {\n\t\t\tthis.props.onClick(interaction.event)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n}\n\nclass ButtonLabelNode extends Node<Record<string, never>> {}\n","export function last<T>(array: T[]): T | undefined {\n\treturn array[array.length - 1]\n}\n","import type { EmbedOptions } from \"../core/components/embed-options\"\nimport type { SelectProps } from \"../core/components/select\"\nimport { last } from \"@reacord/helpers/last\"\nimport type { Except } from \"type-fest\"\n\nexport interface MessageOptions {\n\tcontent: string\n\tembeds: EmbedOptions[]\n\tactionRows: ActionRow[]\n}\n\nexport type ActionRow = ActionRowItem[]\n\nexport type ActionRowItem =\n\t| MessageButtonOptions\n\t| MessageLinkOptions\n\t| MessageSelectOptions\n\nexport interface MessageButtonOptions {\n\ttype: \"button\"\n\tcustomId: string\n\tlabel?: string\n\tstyle?: \"primary\" | \"secondary\" | \"success\" | \"danger\"\n\tdisabled?: boolean\n\temoji?: string\n}\n\nexport interface MessageLinkOptions {\n\ttype: \"link\"\n\turl: string\n\tlabel?: string\n\temoji?: string\n\tdisabled?: boolean\n}\n\nexport type MessageSelectOptions = Except<SelectProps, \"children\" | \"value\"> & {\n\ttype: \"select\"\n\tcustomId: string\n\toptions: MessageSelectOptionOptions[]\n}\n\nexport interface MessageSelectOptionOptions {\n\tlabel: string\n\tvalue: string\n\tdescription?: string\n\temoji?: string\n}\n\nexport interface Message {\n\tedit(options: MessageOptions): Promise<void>\n\tdelete(): Promise<void>\n\tmessageId: string\n}\n\nexport function getNextActionRow(options: MessageOptions): ActionRow {\n\tlet actionRow = last(options.actionRows)\n\tif (\n\t\tactionRow == undefined ||\n\t\tactionRow.length >= 5 ||\n\t\tactionRow[0]?.type === \"select\"\n\t) {\n\t\tactionRow = []\n\t\toptions.actionRows.push(actionRow)\n\t}\n\treturn actionRow\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default basePropertyOf;\n","import basePropertyOf from './_basePropertyOf.js';\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('d√©j√† vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nexport default asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nexport default hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nexport default unicodeWords;\n","import asciiWords from './_asciiWords.js';\nimport hasUnicodeWord from './_hasUnicodeWord.js';\nimport toString from './toString.js';\nimport unicodeWords from './_unicodeWords.js';\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import { camelCase, isObject, snakeCase } from \"lodash-es\"\nimport type {\n\tCamelCasedPropertiesDeep,\n\tSnakeCasedPropertiesDeep,\n\tUnknownRecord,\n} from \"type-fest\"\n\nfunction convertKeyCaseDeep<Input, Output>(\n\tinput: Input,\n\tconvertKey: (key: string) => string,\n): Output {\n\tif (!isObject(input)) {\n\t\treturn input as unknown as Output\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input.map((item) =>\n\t\t\tconvertKeyCaseDeep(item, convertKey),\n\t\t) as unknown as Output\n\t}\n\n\tconst output = {} as UnknownRecord\n\tfor (const [key, value] of Object.entries(input)) {\n\t\toutput[convertKey(key)] = convertKeyCaseDeep(value, convertKey)\n\t}\n\treturn output as Output\n}\n\nexport function camelCaseDeep<T>(input: T): CamelCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, camelCase)\n}\n\nexport function snakeCaseDeep<T>(input: T): SnakeCasedPropertiesDeep<T> {\n\treturn convertKeyCaseDeep(input, snakeCase)\n}\n","export function omit<Subject extends object, Key extends PropertyKey>(\n\tsubject: Subject,\n\tkeys: Key[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(subject).filter(([key]) => !keySet.has(key)),\n\t\t// hack: conditional type preserves unions\n\t) as Subject extends unknown ? Omit<Subject, Key> : never\n}\n","import type { MessageOptions } from \"./message\"\nimport { Node } from \"./node.js\"\n\nexport class TextNode extends Node<string> {\n\toverride modifyMessageOptions(options: MessageOptions) {\n\t\toptions.content = options.content + this.props\n\t}\n\n\toverride get text() {\n\t\treturn this.props\n\t}\n}\n","import { Node } from \"../../internal/node.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\nexport abstract class EmbedChildNode<Props> extends Node<Props> {\n\tabstract modifyEmbedOptions(options: EmbedOptions): void\n}\n","import { snakeCaseDeep } from \"@reacord/helpers/convert-object-property-case\"\nimport { omit } from \"@reacord/helpers/omit\"\nimport type React from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport { TextNode } from \"../../internal/text-node\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport interface EmbedProps {\n\ttitle?: string\n\tdescription?: string\n\turl?: string\n\tcolor?: number\n\tfields?: Array<{ name: string; value: string; inline?: boolean }>\n\tauthor?: { name: string; url?: string; iconUrl?: string }\n\tthumbnail?: { url: string }\n\timage?: { url: string }\n\tvideo?: { url: string }\n\tfooter?: { text: string; iconUrl?: string }\n\ttimestamp?: string | number | Date\n\tchildren?: React.ReactNode\n}\n\n/**\n * @category Embed\n * @see https://discord.com/developers/docs/resources/channel#embed-object\n */\nexport function Embed(props: EmbedProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedNode extends Node<EmbedProps> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tconst embed: EmbedOptions = {\n\t\t\t...snakeCaseDeep(omit(this.props, [\"children\", \"timestamp\"])),\n\t\t\ttimestamp: this.props.timestamp\n\t\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t\t: undefined,\n\t\t}\n\n\t\tfor (const child of this.children) {\n\t\t\tif (child instanceof EmbedChildNode) {\n\t\t\t\tchild.modifyEmbedOptions(embed)\n\t\t\t}\n\t\t\tif (child instanceof TextNode) {\n\t\t\t\tembed.description = (embed.description ?? \"\") + child.props\n\t\t\t}\n\t\t}\n\n\t\toptions.embeds.push(embed)\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedAuthorProps {\n\tname?: ReactNode\n\tchildren?: ReactNode\n\turl?: string\n\ticonUrl?: string\n}\n\n/** @category Embed */\nexport function EmbedAuthor(props: EmbedAuthorProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedAuthorNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new AuthorTextNode({})}>\n\t\t\t\t{props.name ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedAuthorNode extends EmbedChildNode<EmbedAuthorProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.author = {\n\t\t\tname: this.children.findType(AuthorTextNode)?.text ?? \"\",\n\t\t\turl: this.props.url,\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t}\n}\n\nclass AuthorTextNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFieldProps {\n\tname: ReactNode\n\tvalue?: ReactNode\n\tinline?: boolean\n\tchildren?: ReactNode\n}\n\n/** @category Embed */\nexport function EmbedField(props: EmbedFieldProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFieldNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldNameNode({})}>\n\t\t\t\t{props.name}\n\t\t\t</ReacordElement>\n\t\t\t<ReacordElement props={{}} createNode={() => new FieldValueNode({})}>\n\t\t\t\t{props.value ?? props.children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFieldNode extends EmbedChildNode<EmbedFieldProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.fields ??= []\n\t\toptions.fields.push({\n\t\t\tname: this.children.findType(FieldNameNode)?.text ?? \"\",\n\t\t\tvalue: this.children.findType(FieldValueNode)?.text ?? \"\",\n\t\t\tinline: this.props.inline,\n\t\t})\n\t}\n}\n\nclass FieldNameNode extends Node<Record<string, never>> {}\nclass FieldValueNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedFooterProps {\n\ttext?: ReactNode\n\tchildren?: ReactNode\n\ticonUrl?: string\n\ttimestamp?: string | number | Date\n}\n\n/** @category Embed */\nexport function EmbedFooter({ text, children, ...props }: EmbedFooterProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedFooterNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new FooterTextNode({})}>\n\t\t\t\t{text ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedFooterNode extends EmbedChildNode<\n\tOmit<EmbedFooterProps, \"text\" | \"children\">\n> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.footer = {\n\t\t\ttext: this.children.findType(FooterTextNode)?.text ?? \"\",\n\t\t\ticon_url: this.props.iconUrl,\n\t\t}\n\t\toptions.timestamp = this.props.timestamp\n\t\t\t? new Date(this.props.timestamp).toISOString()\n\t\t\t: undefined\n\t}\n}\n\nclass FooterTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedImageProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedImage(props: EmbedImageProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedImageNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedImageNode extends EmbedChildNode<EmbedImageProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.image = { url: this.props.url }\n\t}\n}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedThumbnailProps {\n\turl: string\n}\n\n/** @category Embed */\nexport function EmbedThumbnail(props: EmbedThumbnailProps) {\n\treturn (\n\t\t<ReacordElement\n\t\t\tprops={props}\n\t\t\tcreateNode={() => new EmbedThumbnailNode(props)}\n\t\t/>\n\t)\n}\n\nclass EmbedThumbnailNode extends EmbedChildNode<EmbedThumbnailProps> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.thumbnail = { url: this.props.url }\n\t}\n}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport { Node } from \"../../internal/node.js\"\nimport { EmbedChildNode } from \"./embed-child.js\"\nimport type { EmbedOptions } from \"./embed-options\"\n\n/** @category Embed */\nexport interface EmbedTitleProps {\n\tchildren: ReactNode\n\turl?: string\n}\n\n/** @category Embed */\nexport function EmbedTitle({ children, ...props }: EmbedTitleProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new EmbedTitleNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new TitleTextNode({})}>\n\t\t\t\t{children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass EmbedTitleNode extends EmbedChildNode<Omit<EmbedTitleProps, \"children\">> {\n\toverride modifyEmbedOptions(options: EmbedOptions): void {\n\t\toptions.title = this.children.findType(TitleTextNode)?.text ?? \"\"\n\t\toptions.url = this.props.url\n\t}\n}\n\nclass TitleTextNode extends Node<Record<string, never>> {}\n","import { ReacordElement } from \"../../internal/element.js\"\nimport type { MessageOptions } from \"../../internal/message\"\nimport { getNextActionRow } from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ButtonSharedProps } from \"./button-shared-props\"\n\n/** @category Link */\nexport type LinkProps = ButtonSharedProps & {\n\t/** The URL the link should lead to */\n\turl: string\n\t/** The link text */\n\tchildren?: string\n}\n\n/** @category Link */\nexport function Link({ label, children, ...props }: LinkProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new LinkNode(props)}>\n\t\t\t<ReacordElement props={{}} createNode={() => new LinkTextNode({})}>\n\t\t\t\t{label ?? children}\n\t\t\t</ReacordElement>\n\t\t</ReacordElement>\n\t)\n}\n\nclass LinkNode extends Node<Omit<LinkProps, \"label\" | \"children\">> {\n\toverride modifyMessageOptions(options: MessageOptions): void {\n\t\tgetNextActionRow(options).push({\n\t\t\ttype: \"link\",\n\t\t\tdisabled: this.props.disabled,\n\t\t\temoji: this.props.emoji,\n\t\t\tlabel: this.children.findType(LinkTextNode)?.text,\n\t\t\turl: this.props.url,\n\t\t})\n\t}\n}\n\nclass LinkTextNode extends Node<Record<string, never>> {}\n","import type { MessageSelectOptionOptions } from \"../../internal/message\"\nimport { Node } from \"../../internal/node\"\nimport type { OptionProps } from \"./option\"\n\nexport class OptionNode extends Node<\n\tOmit<OptionProps, \"children\" | \"label\" | \"description\">\n> {\n\tget options(): MessageSelectOptionOptions {\n\t\treturn {\n\t\t\tlabel: this.children.findType(OptionLabelNode)?.text ?? this.props.value,\n\t\t\tvalue: this.props.value,\n\t\t\tdescription: this.children.findType(OptionDescriptionNode)?.text,\n\t\t\temoji: this.props.emoji,\n\t\t}\n\t}\n}\n\nexport class OptionLabelNode extends Node<Record<string, never>> {}\nexport class OptionDescriptionNode extends Node<Record<string, never>> {}\n","import type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element\"\nimport {\n\tOptionDescriptionNode,\n\tOptionLabelNode,\n\tOptionNode,\n} from \"./option-node\"\n\n/** @category Select */\nexport interface OptionProps {\n\t/** The internal value of this option */\n\tvalue: string\n\t/** The text shown to the user. This takes priority over `children` */\n\tlabel?: ReactNode\n\t/** The text shown to the user */\n\tchildren?: ReactNode\n\t/** Description for the option, shown to the user */\n\tdescription?: ReactNode\n\n\t/**\n\t * Renders an emoji to the left of the text.\n\t *\n\t * Has to be a literal emoji character (e.g. üçç), or an emoji code, like\n\t * `<:plus_one:778531744860602388>`.\n\t *\n\t * To get an emoji code, type your emoji in Discord chat with a backslash `\\`\n\t * in front. The bot has to be in the emoji's guild to use it.\n\t */\n\temoji?: string\n}\n\n/** @category Select */\nexport function Option({\n\tlabel,\n\tchildren,\n\tdescription,\n\t...props\n}: OptionProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new OptionNode(props)}>\n\t\t\t{(label !== undefined || children !== undefined) && (\n\t\t\t\t<ReacordElement props={{}} createNode={() => new OptionLabelNode({})}>\n\t\t\t\t\t{label ?? children}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t\t{description !== undefined && (\n\t\t\t\t<ReacordElement\n\t\t\t\t\tprops={{}}\n\t\t\t\t\tcreateNode={() => new OptionDescriptionNode({})}\n\t\t\t\t>\n\t\t\t\t\t{description}\n\t\t\t\t</ReacordElement>\n\t\t\t)}\n\t\t</ReacordElement>\n\t)\n}\n","/** For narrowing instance types with array.filter */\nexport const isInstanceOf =\n\t<Instance, Args extends unknown[]>(\n\t\tconstructor: new (...args: Args) => Instance,\n\t) =>\n\t(value: unknown): value is Instance =>\n\t\tvalue instanceof constructor\n","import { isInstanceOf } from \"@reacord/helpers/is-instance-of\"\nimport { randomUUID } from \"node:crypto\"\nimport type { ReactNode } from \"react\"\nimport { ReacordElement } from \"../../internal/element.js\"\nimport type { ComponentInteraction } from \"../../internal/interaction\"\nimport type {\n\tActionRow,\n\tActionRowItem,\n\tMessageOptions,\n} from \"../../internal/message\"\nimport { Node } from \"../../internal/node.js\"\nimport type { ComponentEvent } from \"../component-event\"\nimport { OptionNode } from \"./option-node\"\nimport { omit } from \"@reacord/helpers/omit.js\"\n\n/** @category Select */\nexport interface SelectProps {\n\tchildren?: ReactNode\n\t/** Sets the currently selected value */\n\tvalue?: string\n\n\t/** Sets the currently selected values, for use with `multiple` */\n\tvalues?: string[]\n\n\t/** The text shown when no value is selected */\n\tplaceholder?: string\n\n\t/** Set to true to allow multiple selected values */\n\tmultiple?: boolean\n\n\t/**\n\t * With `multiple`, the minimum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tminValues?: number\n\n\t/**\n\t * With `multiple`, the maximum number of values that can be selected. When\n\t * `multiple` is false or not defined, this is always 1.\n\t *\n\t * This only limits the number of values that can be received by the user.\n\t * This does not limit the number of values that can be displayed by you.\n\t */\n\tmaxValues?: number\n\n\t/**\n\t * When true, the select will be slightly faded, and cannot be interacted\n\t * with.\n\t */\n\tdisabled?: boolean\n\n\t/**\n\t * Called when the user inputs a selection. Receives the entire select change\n\t * event, which can be used to create new replies, etc.\n\t */\n\tonChange?: (event: SelectChangeEvent) => void\n\n\t/**\n\t * Convenience shorthand for `onChange`, which receives the first selected\n\t * value.\n\t */\n\tonChangeValue?: (value: string, event: SelectChangeEvent) => void\n\n\t/** Convenience shorthand for `onChange`, which receives all selected values. */\n\tonChangeMultiple?: (values: string[], event: SelectChangeEvent) => void\n}\n\n/** @category Select */\nexport type SelectChangeEvent = ComponentEvent & {\n\tvalues: string[]\n}\n\n/**\n * See [the select menu guide](/guides/select-menu) for a usage example.\n *\n * @category Select\n */\nexport function Select(props: SelectProps) {\n\treturn (\n\t\t<ReacordElement props={props} createNode={() => new SelectNode(props)}>\n\t\t\t{props.children}\n\t\t</ReacordElement>\n\t)\n}\n\nclass SelectNode extends Node<SelectProps> {\n\treadonly customId = randomUUID()\n\n\toverride modifyMessageOptions(message: MessageOptions): void {\n\t\tconst actionRow: ActionRow = []\n\t\tmessage.actionRows.push(actionRow)\n\n\t\tconst options = [...this.children]\n\t\t\t.filter(isInstanceOf(OptionNode))\n\t\t\t.map((node) => node.options)\n\n\t\tconst {\n\t\t\tmultiple,\n\t\t\tvalue,\n\t\t\tvalues,\n\t\t\tminValues = 0,\n\t\t\tmaxValues = 25,\n\t\t\t...props\n\t\t} = omit(this.props, [\n\t\t\t\"children\",\n\t\t\t\"onChange\",\n\t\t\t\"onChangeValue\",\n\t\t\t\"onChangeMultiple\",\n\t\t])\n\n\t\tconst item: ActionRowItem = {\n\t\t\t...props,\n\t\t\ttype: \"select\",\n\t\t\tcustomId: this.customId,\n\t\t\toptions,\n\t\t\tvalues: [],\n\t\t}\n\n\t\tif (multiple) {\n\t\t\titem.minValues = minValues\n\t\t\titem.maxValues = maxValues\n\t\t\tif (values) item.values = values\n\t\t}\n\n\t\tif (!multiple && value != undefined) {\n\t\t\titem.values = [value]\n\t\t}\n\n\t\tactionRow.push(item)\n\t}\n\n\toverride handleComponentInteraction(\n\t\tinteraction: ComponentInteraction,\n\t): boolean {\n\t\tconst isSelectInteraction =\n\t\t\tinteraction.type === \"select\" &&\n\t\t\tinteraction.customId === this.customId &&\n\t\t\t!this.props.disabled\n\n\t\tif (!isSelectInteraction) return false\n\n\t\tthis.props.onChange?.(interaction.event)\n\t\tthis.props.onChangeMultiple?.(interaction.event.values, interaction.event)\n\t\tif (interaction.event.values[0]) {\n\t\t\tthis.props.onChangeValue?.(interaction.event.values[0], interaction.event)\n\t\t}\n\t\treturn true\n\t}\n}\n","export function toError(value: unknown) {\n\treturn value instanceof Error ? value : new Error(String(value))\n}\n","import { toError } from \"./to-error.js\"\n\nexport function raise(error: unknown): never {\n\tthrow toError(error)\n}\n","import type { ReacordInstance } from \"./instance.js\"\nimport { raise } from \"@reacord/helpers/raise.js\"\nimport * as React from \"react\"\n\nconst Context = React.createContext<ReacordInstance | undefined>(undefined)\n\nexport const InstanceProvider = Context.Provider\n\n/**\n * Get the associated instance for the current component.\n *\n * @category Core\n * @see https://reacord.mapleleaf.dev/guides/use-instance\n */\nexport function useInstance(): ReacordInstance {\n\treturn (\n\t\tReact.useContext(Context) ??\n\t\traise(\"Could not find instance, was this component rendered via Reacord?\")\n\t)\n}\n","import { raise } from \"@reacord/helpers/raise.js\"\nimport type { HostConfig } from \"react-reconciler\"\nimport ReactReconciler from \"react-reconciler\"\nimport { DefaultEventPriority } from \"react-reconciler/constants.js\"\nimport { Node } from \"./node.js\"\nimport type { Renderer } from \"./renderers/renderer\"\nimport { TextNode } from \"./text-node.js\"\n\nconst config: HostConfig<\n\tstring, // Type,\n\tRecord<string, unknown>, // Props,\n\tRenderer, // Container,\n\tNode<unknown>, // Instance,\n\tTextNode, // TextInstance,\n\tnever, // SuspenseInstance,\n\tnever, // HydratableInstance,\n\tnever, // PublicInstance,\n\tnever, // HostContext,\n\ttrue, // UpdatePayload,\n\tnever, // ChildSet,\n\tnumber, // TimeoutHandle,\n\tnumber // NoTimeout,\n> = {\n\tsupportsMutation: true,\n\tsupportsPersistence: false,\n\tsupportsHydration: false,\n\tisPrimaryRenderer: true,\n\tscheduleTimeout: global.setTimeout,\n\tcancelTimeout: global.clearTimeout,\n\tnoTimeout: -1,\n\n\tgetRootHostContext: () => null,\n\tgetChildHostContext: (parentContext) => parentContext,\n\n\tcreateInstance: (type, props) => {\n\t\tif (type !== \"reacord-element\") {\n\t\t\traise(`Unknown element type: ${type}`)\n\t\t}\n\n\t\tif (typeof props.createNode !== \"function\") {\n\t\t\traise(`Missing createNode function`)\n\t\t}\n\n\t\tconst node: unknown = props.createNode(props.props)\n\t\tif (!(node instanceof Node)) {\n\t\t\traise(`createNode function did not return a Node`)\n\t\t}\n\n\t\treturn node\n\t},\n\tcreateTextInstance: (text) => new TextNode(text),\n\tshouldSetTextContent: () => false,\n\tdetachDeletedInstance: (_instance) => {},\n\tbeforeActiveInstanceBlur: () => {},\n\tafterActiveInstanceBlur: () => {},\n\tgetInstanceFromNode: (_node: unknown) => null,\n\tgetInstanceFromScope: (_scopeInstance: unknown) => null,\n\n\tclearContainer: (renderer) => {\n\t\trenderer.nodes.clear()\n\t},\n\tappendChildToContainer: (renderer, child) => {\n\t\trenderer.nodes.add(child)\n\t},\n\tremoveChildFromContainer: (renderer, child) => {\n\t\trenderer.nodes.remove(child)\n\t},\n\tinsertInContainerBefore: (renderer, child, before) => {\n\t\trenderer.nodes.addBefore(child, before)\n\t},\n\n\tappendInitialChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tappendChild: (parent, child) => {\n\t\tparent.children.add(child)\n\t},\n\tremoveChild: (parent, child) => {\n\t\tparent.children.remove(child)\n\t},\n\tinsertBefore: (parent, child, before) => {\n\t\tparent.children.addBefore(child, before)\n\t},\n\n\tprepareUpdate: () => true,\n\tcommitUpdate: (node, payload, type, oldProps, newProps) => {\n\t\tnode.props = newProps.props\n\t},\n\tcommitTextUpdate: (node, oldText, newText) => {\n\t\tnode.props = newText\n\t},\n\n\tprepareForCommit: () => null,\n\tresetAfterCommit: (renderer) => {\n\t\trenderer.render()\n\t},\n\tprepareScopeUpdate: (_scopeInstance: unknown, _instance: unknown) => {},\n\n\tpreparePortalMount: () => raise(\"Portals are not supported\"),\n\tgetPublicInstance: () => raise(\"Refs are currently not supported\"),\n\n\tfinalizeInitialChildren: () => false,\n\n\tgetCurrentEventPriority: () => DefaultEventPriority,\n}\n\nexport const reconciler = ReactReconciler(config)\n","import type { ReactNode } from \"react\"\nimport type { ComponentInteraction } from \"../internal/interaction.js\"\nimport { reconciler } from \"../internal/reconciler.js\"\nimport type { Renderer } from \"../internal/renderers/renderer.js\"\nimport { InstanceProvider } from \"./instance-context.js\"\nimport type { ReacordInstance } from \"./instance.js\"\n\n/** @category Core */\nexport interface ReacordConfig {\n\t/**\n\t * The max number of active instances. When this limit is exceeded, the oldest\n\t * instances will be disabled.\n\t */\n\tmaxInstances?: number\n}\n\n/**\n * The main Reacord class that other Reacord adapters should extend. Only use\n * this directly if you're making [a custom adapter](/guides/custom-adapters).\n */\nexport abstract class Reacord {\n\tprivate renderers: Renderer[] = []\n\n\tconstructor(private readonly config: ReacordConfig = {}) {}\n\n\tprotected handleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const renderer of this.renderers) {\n\t\t\tif (renderer.handleComponentInteraction(interaction)) return\n\t\t}\n\t}\n\n\tprivate get maxInstances() {\n\t\treturn this.config.maxInstances ?? 50\n\t}\n\n\tprotected createInstance(renderer: Renderer, initialContent?: ReactNode) {\n\t\tif (this.renderers.length > this.maxInstances && this.renderers[0]) {\n\t\t\tthis.deactivate(this.renderers[0])\n\t\t}\n\n\t\tthis.renderers.push(renderer)\n\n\t\tconst container: unknown = reconciler.createContainer(\n\t\t\trenderer,\n\t\t\t0,\n\t\t\tnull,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\t\"reacord\",\n\t\t\t() => {},\n\t\t\tnull,\n\t\t)\n\n\t\tconst instance: ReacordInstance = {\n\t\t\trender: (content: ReactNode) => {\n\t\t\t\treconciler.updateContainer(\n\t\t\t\t\t<InstanceProvider value={instance}>{content}</InstanceProvider>,\n\t\t\t\t\tcontainer,\n\t\t\t\t)\n\t\t\t\treturn instance\n\t\t\t},\n\t\t\tdeactivate: () => {\n\t\t\t\tthis.deactivate(renderer)\n\t\t\t},\n\t\t\tdestroy: () => {\n\t\t\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\t\t\trenderer.destroy()\n\t\t\t},\n\t\t}\n\n\t\tif (initialContent !== undefined) {\n\t\t\tinstance.render(initialContent)\n\t\t}\n\n\t\treturn instance\n\t}\n\n\tprivate deactivate(renderer: Renderer) {\n\t\tthis.renderers = this.renderers.filter((it) => it !== renderer)\n\t\trenderer.deactivate()\n\t}\n}\n","export function safeJsonStringify(value: unknown): string {\n\ttry {\n\t\treturn JSON.stringify(value)\n\t} catch {\n\t\treturn String(value)\n\t}\n}\n","import type { LoosePick } from \"./types\"\n\nexport function pick<T extends object, K extends keyof T | PropertyKey>(\n\tobject: T,\n\tkeys: K[],\n) {\n\tconst keySet = new Set<PropertyKey>(keys)\n\treturn Object.fromEntries(\n\t\tObject.entries(object).filter(([key]) => keySet.has(key)),\n\t) as LoosePick<T, K>\n}\n","export function isObject(value: unknown): value is object {\n\treturn typeof value === \"object\" && value !== null\n}\n","import { isObject } from \"./is-object\"\n\nexport function pruneNullishValues<T>(input: T): PruneNullishValues<T> {\n\tif (!isObject(input)) {\n\t\treturn input as PruneNullishValues<T>\n\t}\n\n\tif (Array.isArray(input)) {\n\t\treturn input\n\t\t\t.filter(Boolean)\n\t\t\t.map(\n\t\t\t\t(item) => pruneNullishValues(item) as unknown,\n\t\t\t) as PruneNullishValues<T>\n\t}\n\n\tconst result: Record<string, unknown> = {}\n\tfor (const [key, value] of Object.entries(input)) {\n\t\tif (value != undefined) {\n\t\t\tresult[key] = pruneNullishValues(value)\n\t\t}\n\t}\n\treturn result as PruneNullishValues<T>\n}\n\nexport type PruneNullishValues<Input> = Input extends object\n\t? OptionalKeys<\n\t\t\t{ [Key in keyof Input]: NonNullable<PruneNullishValues<Input[Key]>> },\n\t\t\tKeysWithNullishValues<Input>\n\t  >\n\t: Input\n\ntype OptionalKeys<Input, Keys extends keyof Input> = Omit<Input, Keys> & {\n\t[Key in Keys]?: Input[Key]\n}\n\ntype KeysWithNullishValues<Input> = NonNullable<\n\tValues<{\n\t\t[Key in keyof Input]: null extends Input[Key]\n\t\t\t? Key\n\t\t\t: undefined extends Input[Key]\n\t\t\t? Key\n\t\t\t: never\n\t}>\n>\n\ntype Values<Input> = Input[keyof Input]\n","import { safeJsonStringify } from \"@reacord/helpers/json\"\nimport { pick } from \"@reacord/helpers/pick\"\nimport { pruneNullishValues } from \"@reacord/helpers/prune-nullish-values\"\nimport { raise } from \"@reacord/helpers/raise\"\nimport * as Discord from \"discord.js\"\nimport type { ReactNode } from \"react\"\nimport type { Except } from \"type-fest\"\nimport type { ComponentInteraction } from \"../internal/interaction\"\nimport type {\n\tMessage,\n\tMessageButtonOptions,\n\tMessageOptions,\n} from \"../internal/message\"\nimport { ChannelMessageRenderer } from \"../internal/renderers/channel-message-renderer\"\nimport { InteractionReplyRenderer } from \"../internal/renderers/interaction-reply-renderer\"\nimport type {\n\tComponentEventChannel,\n\tComponentEventGuild,\n\tComponentEventGuildMember,\n\tComponentEventMessage,\n\tComponentEventReplyOptions,\n\tComponentEventUser,\n} from \"./component-event\"\nimport type { ReacordInstance } from \"./instance\"\nimport type { ReacordConfig } from \"./reacord\"\nimport { Reacord } from \"./reacord\"\n\nexport type ReacordDiscordJsSettings = {\n\t/** A event that is dispatched when a message is sent */\n\tonMessage?: (message: Discord.Message) => void\n}\n\n/**\n * The Reacord adapter for Discord.js.\n *\n * @category Core\n */\nexport class ReacordDiscordJs extends Reacord {\n\tconstructor(\n\t\tprivate client: Discord.Client,\n\t\tconfig: ReacordConfig = {},\n\t) {\n\t\tsuper(config)\n\n\t\tclient.on(\"interactionCreate\", (interaction) => {\n\t\t\tif (interaction.isButton() || interaction.isStringSelectMenu()) {\n\t\t\t\tthis.handleComponentInteraction(\n\t\t\t\t\tthis.createReacordComponentInteraction(interaction),\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @param target Discord channel object.\n\t * @param [options] Options for the channel message\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.MessageCreateOptions}\n\t */\n\tpublic createChannelMessage(\n\t\ttarget: Discord.ChannelResolvable,\n\t\toptions: Discord.MessageCreateOptions & ReacordDiscordJsSettings = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(target, options),\n\t\t)\n\t}\n\n\t/**\n\t * Replies to a command interaction by sending a message.\n\t *\n\t * @param interaction Discord command interaction object.\n\t * @param [options] Custom options for the interaction reply method.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t * @see {@link Discord.InteractionReplyOptions}\n\t */\n\tpublic createInteractionReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\toptions: Discord.InteractionReplyOptions & ReacordDiscordJsSettings = {},\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, options),\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message to a channel.\n\t *\n\t * @deprecated Use reacord.createChannelMessage() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic send(\n\t\tchannel: Discord.ChannelResolvable,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createChannelMessageRenderer(channel, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends a message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply() instead.\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic reply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\t/**\n\t * Sends an ephemeral message as a reply to a command interaction.\n\t *\n\t * @deprecated Use reacord.createInteractionReply(interaction, { ephemeral:\n\t *   true })\n\t * @see https://reacord.mapleleaf.dev/guides/sending-messages\n\t */\n\tpublic ephemeralReply(\n\t\tinteraction: Discord.CommandInteraction,\n\t\tinitialContent?: React.ReactNode,\n\t): ReacordInstance {\n\t\treturn this.createInstance(\n\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\tephemeral: true,\n\t\t\t}),\n\t\t\tinitialContent,\n\t\t)\n\t}\n\n\tprivate createChannelMessageRenderer(\n\t\tchannelResolvable: Discord.ChannelResolvable,\n\t\tmessageCreateOptions?: Discord.MessageCreateOptions & ReacordDiscordJsSettings,\n\t) {\n\t\treturn new ChannelMessageRenderer({\n\t\t\tsend: async (messageOptions) => {\n\t\t\t\tlet channel = this.client.channels.resolve(channelResolvable)\n\t\t\t\tif (!channel && typeof channelResolvable === \"string\") {\n\t\t\t\t\tchannel = await this.client.channels.fetch(channelResolvable)\n\t\t\t\t}\n\n\t\t\t\tif (!channel) {\n\t\t\t\t\tconst id =\n\t\t\t\t\t\ttypeof channelResolvable === \"string\"\n\t\t\t\t\t\t\t? channelResolvable\n\t\t\t\t\t\t\t: channelResolvable.id\n\t\t\t\t\traise(`Channel ${id} not found`)\n\t\t\t\t}\n\n\t\t\t\tif (!channel.isTextBased()) {\n\t\t\t\t\traise(`Channel ${channel.id} must be a text channel`)\n\t\t\t\t}\n\n\t\t\t\tconst message = await channel.send({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...messageCreateOptions,\n\t\t\t\t})\n\t\t\t\tif (messageCreateOptions?.onMessage) {\n\t\t\t\t\tmessageCreateOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createInteractionReplyRenderer(\n\t\tinteraction:\n\t\t\t| Discord.CommandInteraction\n\t\t\t| Discord.MessageComponentInteraction,\n\t\tinteractionReplyOptions: Discord.InteractionReplyOptions & ReacordDiscordJsSettings,\n\t) {\n\t\treturn new InteractionReplyRenderer({\n\t\t\tinteractionId: interaction.id,\n\t\t\treply: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\tif (interactionReplyOptions.onMessage) {\n\t\t\t\t\tinteractionReplyOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (messageOptions) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(messageOptions),\n\t\t\t\t\t...interactionReplyOptions,\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\tif (interactionReplyOptions.onMessage) {\n\t\t\t\t\tinteractionReplyOptions.onMessage(message)\n\t\t\t\t}\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t})\n\t}\n\n\tprivate createReacordComponentInteraction(\n\t\tinteraction: Discord.MessageComponentInteraction,\n\t): ComponentInteraction {\n\t\t// todo please dear god clean this up\n\t\tconst channel: ComponentEventChannel = interaction.channel\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\tpick(interaction.channel, [\n\t\t\t\t\t\t\t\"topic\",\n\t\t\t\t\t\t\t\"nsfw\",\n\t\t\t\t\t\t\t\"lastMessageId\",\n\t\t\t\t\t\t\t\"ownerId\",\n\t\t\t\t\t\t\t\"parentId\",\n\t\t\t\t\t\t\t\"rateLimitPerUser\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t),\n\t\t\t\t\tid: interaction.channelId,\n\t\t\t  }\n\t\t\t: raise(\"Non-channel interactions are not supported\")\n\n\t\tconst message: ComponentEventMessage =\n\t\t\tinteraction.message instanceof Discord.Message\n\t\t\t\t? {\n\t\t\t\t\t\t...pick(interaction.message, [\n\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\"channelId\",\n\t\t\t\t\t\t\t\"authorId\",\n\t\t\t\t\t\t\t\"content\",\n\t\t\t\t\t\t\t\"tts\",\n\t\t\t\t\t\t\t\"mentionEveryone\",\n\t\t\t\t\t\t]),\n\t\t\t\t\t\ttimestamp: new Date(\n\t\t\t\t\t\t\tinteraction.message.createdTimestamp,\n\t\t\t\t\t\t).toISOString(),\n\t\t\t\t\t\teditedTimestamp: interaction.message.editedTimestamp\n\t\t\t\t\t\t\t? new Date(interaction.message.editedTimestamp).toISOString()\n\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\tmentions: interaction.message.mentions.users.map((u) => u.id),\n\t\t\t\t\t\tauthorId: interaction.message.author.id,\n\t\t\t\t\t\tmentionEveryone: interaction.message.mentions.everyone,\n\t\t\t\t  }\n\t\t\t\t: raise(\"Message not found\")\n\n\t\tconst member: ComponentEventGuildMember | undefined =\n\t\t\tinteraction.member instanceof Discord.GuildMember\n\t\t\t\t? {\n\t\t\t\t\t\t...pruneNullishValues(\n\t\t\t\t\t\t\tpick(interaction.member, [\n\t\t\t\t\t\t\t\t\"id\",\n\t\t\t\t\t\t\t\t\"nick\",\n\t\t\t\t\t\t\t\t\"displayName\",\n\t\t\t\t\t\t\t\t\"avatarUrl\",\n\t\t\t\t\t\t\t\t\"displayAvatarUrl\",\n\t\t\t\t\t\t\t\t\"color\",\n\t\t\t\t\t\t\t\t\"pending\",\n\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName: interaction.member.displayName,\n\t\t\t\t\t\troles: interaction.member.roles.cache.map((role) => role.id),\n\t\t\t\t\t\tjoinedAt: interaction.member.joinedAt?.toISOString(),\n\t\t\t\t\t\tpremiumSince: interaction.member.premiumSince?.toISOString(),\n\t\t\t\t\t\tcommunicationDisabledUntil:\n\t\t\t\t\t\t\tinteraction.member.communicationDisabledUntil?.toISOString(),\n\t\t\t\t\t\tcolor: interaction.member.displayColor,\n\t\t\t\t\t\tdisplayAvatarUrl: interaction.member.displayAvatarURL(),\n\t\t\t\t  }\n\t\t\t\t: undefined\n\n\t\tconst guild: ComponentEventGuild | undefined = interaction.guild\n\t\t\t? {\n\t\t\t\t\t...pruneNullishValues(pick(interaction.guild, [\"id\", \"name\"])),\n\t\t\t\t\tmember: member ?? raise(\"unexpected: member is undefined\"),\n\t\t\t  }\n\t\t\t: undefined\n\n\t\tconst user: ComponentEventUser = {\n\t\t\t...pruneNullishValues(\n\t\t\t\tpick(interaction.user, [\"id\", \"username\", \"discriminator\", \"tag\"]),\n\t\t\t),\n\t\t\tavatarUrl: interaction.user.avatarURL(),\n\t\t\taccentColor: interaction.user.accentColor ?? undefined,\n\t\t}\n\n\t\tconst baseProps: Except<ComponentInteraction, \"type\"> = {\n\t\t\tid: interaction.id,\n\t\t\tcustomId: interaction.customId,\n\t\t\tupdate: async (options: MessageOptions) => {\n\t\t\t\tif (interaction.deferred || interaction.replied) {\n\t\t\t\t\tawait interaction.message.edit(getDiscordMessageOptions(options))\n\t\t\t\t} else {\n\t\t\t\t\tawait interaction.update(getDiscordMessageOptions(options))\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferUpdate: async () => {\n\t\t\t\tif (interaction.replied || interaction.deferred) return\n\t\t\t\tawait interaction.deferUpdate()\n\t\t\t},\n\t\t\treply: async (options) => {\n\t\t\t\tconst message = await interaction.reply({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tfollowUp: async (options) => {\n\t\t\t\tconst message = await interaction.followUp({\n\t\t\t\t\t...getDiscordMessageOptions(options),\n\t\t\t\t\tfetchReply: true,\n\t\t\t\t})\n\t\t\t\treturn createReacordMessage(message)\n\t\t\t},\n\t\t\tevent: {\n\t\t\t\tchannel,\n\t\t\t\tmessage,\n\t\t\t\tuser,\n\t\t\t\tguild,\n\n\t\t\t\treply: (content?: ReactNode, options?: ComponentEventReplyOptions) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, options ?? {}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\n\t\t\t\t/** @deprecated Use event.reply(content, { ephemeral: true }) */\n\t\t\t\tephemeralReply: (content: ReactNode) =>\n\t\t\t\t\tthis.createInstance(\n\t\t\t\t\t\tthis.createInteractionReplyRenderer(interaction, {\n\t\t\t\t\t\t\tephemeral: true,\n\t\t\t\t\t\t}),\n\t\t\t\t\t\tcontent,\n\t\t\t\t\t),\n\t\t\t},\n\t\t}\n\n\t\tif (interaction.isButton()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"button\",\n\t\t\t}\n\t\t}\n\n\t\tif (interaction.isStringSelectMenu()) {\n\t\t\treturn {\n\t\t\t\t...baseProps,\n\t\t\t\ttype: \"select\",\n\t\t\t\tevent: {\n\t\t\t\t\t...baseProps.event,\n\t\t\t\t\tvalues: interaction.values,\n\t\t\t\t},\n\t\t\t}\n\t\t}\n\n\t\traise(`Unsupported component interaction type: ${interaction.type}`)\n\t}\n}\n\nfunction createReacordMessage(message: Discord.Message): Message {\n\treturn {\n\t\tedit: async (options) => {\n\t\t\tawait message.edit(getDiscordMessageOptions(options))\n\t\t},\n\t\tdelete: async () => {\n\t\t\tawait message.delete()\n\t\t},\n\t\tmessageId: message.id,\n\t}\n}\n\nfunction convertButtonStyleToEnum(style: MessageButtonOptions[\"style\"]) {\n\tconst styleMap = {\n\t\tprimary: Discord.ButtonStyle.Primary,\n\t\tsecondary: Discord.ButtonStyle.Secondary,\n\t\tsuccess: Discord.ButtonStyle.Success,\n\t\tdanger: Discord.ButtonStyle.Danger,\n\t} as const\n\n\treturn styleMap[style ?? \"secondary\"]\n}\n\n// TODO: this could be a part of the core library,\n// and also handle some edge cases, e.g. empty messages\nfunction getDiscordMessageOptions(reacordOptions: MessageOptions) {\n\tconst options = {\n\t\tcontent: reacordOptions.content || undefined,\n\t\tembeds: reacordOptions.embeds,\n\t\tcomponents: reacordOptions.actionRows.map((row) => ({\n\t\t\ttype: Discord.ComponentType.ActionRow,\n\t\t\tcomponents: row.map(\n\t\t\t\t(component): Discord.MessageActionRowComponentData => {\n\t\t\t\t\tif (component.type === \"button\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\tcustomId: component.customId,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: convertButtonStyleToEnum(component.style),\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (component.type === \"link\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ttype: Discord.ComponentType.Button,\n\t\t\t\t\t\t\turl: component.url,\n\t\t\t\t\t\t\tlabel: component.label ?? \"\",\n\t\t\t\t\t\t\tstyle: Discord.ButtonStyle.Link,\n\t\t\t\t\t\t\tdisabled: component.disabled,\n\t\t\t\t\t\t\temoji: component.emoji,\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// future proofing\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\t\tif (component.type === \"select\") {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...component,\n\t\t\t\t\t\t\ttype: Discord.ComponentType.SelectMenu,\n\t\t\t\t\t\t\toptions: component.options.map((option) => ({\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\tdefault: component.values?.includes(option.value),\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcomponent satisfies never\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t`Invalid component type ${safeJsonStringify(component)}}`,\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t),\n\t\t})),\n\t}\n\n\tif (!options.content && !options.embeds.length) {\n\t\toptions.content = \"_ _\"\n\t}\n\n\treturn options\n}\n","import { Container } from \"../container.js\"\nimport type { ComponentInteraction } from \"../interaction\"\nimport type { Message, MessageOptions } from \"../message\"\nimport type { Node } from \"../node.js\"\nimport { Subject } from \"rxjs\"\nimport { concatMap } from \"rxjs/operators\"\n\ntype UpdatePayload =\n\t| { action: \"update\" | \"deactivate\"; options: MessageOptions }\n\t| { action: \"deferUpdate\"; interaction: ComponentInteraction }\n\t| { action: \"destroy\" }\n\nexport abstract class Renderer {\n\treadonly nodes = new Container<Node<unknown>>()\n\tprivate componentInteraction?: ComponentInteraction\n\tprivate message?: Message\n\tprivate active = true\n\tprivate updates = new Subject<UpdatePayload>()\n\n\tprivate updateSubscription = this.updates\n\t\t.pipe(concatMap((payload) => this.updateMessage(payload)))\n\t\t.subscribe({ error: console.error })\n\n\trender() {\n\t\tif (!this.active) {\n\t\t\tconsole.warn(\"Attempted to update a deactivated message\")\n\t\t\treturn\n\t\t}\n\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"update\",\n\t\t})\n\t}\n\n\tdeactivate() {\n\t\tthis.active = false\n\t\tthis.updates.next({\n\t\t\toptions: this.getMessageOptions(),\n\t\t\taction: \"deactivate\",\n\t\t})\n\t}\n\n\tdestroy() {\n\t\tthis.active = false\n\t\tthis.updates.next({ action: \"destroy\" })\n\t}\n\n\thandleComponentInteraction(interaction: ComponentInteraction) {\n\t\tfor (const node of this.nodes) {\n\t\t\tif (node.handleComponentInteraction(interaction)) {\n\t\t\t\tthis.componentInteraction = interaction\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.updates.next({ action: \"deferUpdate\", interaction })\n\t\t\t\t}, 500)\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected abstract createMessage(options: MessageOptions): Promise<Message>\n\n\tprivate getMessageOptions(): MessageOptions {\n\t\tconst options: MessageOptions = {\n\t\t\tcontent: \"\",\n\t\t\tembeds: [],\n\t\t\tactionRows: [],\n\t\t}\n\t\tfor (const node of this.nodes) {\n\t\t\tnode.modifyMessageOptions(options)\n\t\t}\n\t\treturn options\n\t}\n\n\tprivate async updateMessage(payload: UpdatePayload) {\n\t\tif (payload.action === \"destroy\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\t\t\tawait this.message?.delete()\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deactivate\") {\n\t\t\tthis.updateSubscription.unsubscribe()\n\n\t\t\tawait this.message?.edit({\n\t\t\t\t...payload.options,\n\t\t\t\tactionRows: payload.options.actionRows.map((row) =>\n\t\t\t\t\trow.map((component) => ({\n\t\t\t\t\t\t...component,\n\t\t\t\t\t\tdisabled: true,\n\t\t\t\t\t})),\n\t\t\t\t),\n\t\t\t})\n\n\t\t\treturn\n\t\t}\n\n\t\tif (payload.action === \"deferUpdate\") {\n\t\t\tawait payload.interaction.deferUpdate()\n\t\t\treturn\n\t\t}\n\n\t\tif (this.componentInteraction) {\n\t\t\tconst promise = this.componentInteraction.update(payload.options)\n\t\t\tthis.componentInteraction = undefined\n\t\t\tawait promise\n\t\t\treturn\n\t\t}\n\n\t\tif (this.message) {\n\t\t\tawait this.message.edit(payload.options)\n\t\t\treturn\n\t\t}\n\n\t\tthis.message = await this.createMessage(payload.options)\n\t}\n}\n","import type { Channel } from \"../channel\"\nimport type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\nexport class ChannelMessageRenderer extends Renderer {\n\tconstructor(private channel: Channel) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\treturn this.channel.send(options)\n\t}\n}\n","import type { Message, MessageOptions } from \"../message\"\nimport { Renderer } from \"./renderer\"\n\n// keep track of interaction ids which have replies,\n// so we know whether to call reply() or followUp()\nconst repliedInteractionIds = new Set<string>()\n\nexport type InteractionReplyRendererImplementation = {\n\tinteractionId: string\n\treply: (options: MessageOptions) => Promise<Message>\n\tfollowUp: (options: MessageOptions) => Promise<Message>\n}\n\nexport class InteractionReplyRenderer extends Renderer {\n\tconstructor(private implementation: InteractionReplyRendererImplementation) {\n\t\tsuper()\n\t}\n\n\tprotected createMessage(options: MessageOptions): Promise<Message> {\n\t\tif (repliedInteractionIds.has(this.implementation.interactionId)) {\n\t\t\treturn this.implementation.followUp(options)\n\t\t}\n\n\t\trepliedInteractionIds.add(this.implementation.interactionId)\n\t\treturn this.implementation.reply(options)\n\t}\n}\n"],"mappings":"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AA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAC1B,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACvE,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EACzC,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UAAU;AAAA,EAAK,UAAU;AAAA,EACxD,UAAU;AAAA,EAAM,UAAU;AAAA,EAAK,UA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","names":["jsx","Symbol","objectProto","nativeObjectToString","symToStringTag","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsCombo","rsApos","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsx","jsxs","randomUUID","jsx","randomUUID","React","jsx","config","isObject","isObject","config","message"]}
\ No newline at end of file
